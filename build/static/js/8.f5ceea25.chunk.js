(this["webpackJsonpdata-maintenance"]=this["webpackJsonpdata-maintenance"]||[]).push([[8],{173:function(e,t,a){"use strict";var n=a(24),i=a(25),l=a(31),c=a(29),s=a(30),r=a(1),o=a.n(r),m=(a(181),a(48)),u=a(174),d=function(e){function t(){var e,a;Object(n.a)(this,t);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={},a.callback=function(e,t){a.setState({}),a.props.onClick(e,t)},a.headerComponent=function(e){return o.a.createElement("div",{className:"heading"},o.a.createElement("label",{className:"tab-label"},e,o.a.createElement("span",null," ",o.a.createElement("span",{className:"minus"},o.a.createElement(m.b,null)),o.a.createElement("span",{className:"add"},o.a.createElement(m.a,null)))))},a.contentComponent=function(e){return o.a.createElement("div",{className:"tab-content"},e)},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return this.props.menuList.map((function(t,a){return o.a.createElement("div",{className:"row",key:e.props.isSingleOpen?Math.random()*a:a},o.a.createElement("div",{className:"tabs"},o.a.createElement("div",{className:"tab"},o.a.createElement(u.a,Object.assign({sliderStatus:function(a){return e.callback(t,a)},open:!!t.isOpen,header:e.headerComponent(t.title),content:e.contentComponent(o.a.createElement(t.data,null))},e.props)))))}))}}]),t}(o.a.Component);d.defaultProps={onClick:function(){},isSingleOpen:!1},t.a=d},181:function(e,t,a){},184:function(e,t,a){},186:function(e,t,a){"use strict";var n=a(24),i=a(25),l=a(31),c=a(29),s=a(30),r=a(1),o=a.n(r),m=(a(191),"left ".concat(200,"ms, right ").concat(200,"ms")),u=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).state={sizes:{}},a.els={},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getSizes()}},{key:"componentDidUpdate",value:function(e){e.children!==this.props.children&&e.active!==this.props.active&&this.getSizes()}},{key:"getSizes",value:function(){var e=this,t=this.root.getBoundingClientRect(),a={};return Object.keys(this.els).forEach((function(n){var i=e.els[n].getBoundingClientRect(),l=i.left-t.left,c=t.right-i.right;a[n]={left:l,right:c}})),this.setState({sizes:a}),a}},{key:"render",value:function(){var e=this;return console.log(JSON.stringify(this.state,null,2)),o.a.createElement("div",{className:"Tabs",ref:function(t){return e.root=t}},o.a.Children.map(this.props.children,(function(t,a){var n="Tabs__Tab ";return t.key===e.props.active&&(n="".concat(n," Tabs__Tab--active")),o.a.createElement("div",{className:n,onClick:function(){e.props.onChange(t.key)},ref:function(a){return e.els[t.key]=a}},t)})),o.a.createElement("div",{className:"Tabs__Underline",style:this.getUnderlineStyle()}))}},{key:"getUnderlineStyle",value:function(){if(null==this.props.active||0===Object.keys(this.state.sizes).length)return{left:"0",right:"100%"};var e=this.state.sizes[this.props.active];return{left:"".concat(e.left,"px"),right:"".concat(e.right,"px"),transition:m}}}]),t}(o.a.Component);t.a=u},190:function(e,t,a){"use strict";var n=a(182),i=a(24),l=a(25),c=a(31),s=a(29),r=a(57),o=a(30),m=a(1),u=a.n(m),d=a(193),v=a(194),p=a(196);a(195),m.Component;a.d(t,"a",(function(){return n.a}))},191:function(e,t,a){},207:function(e,t,a){"use strict";var n=a(36),i=a(24),l=a(25),c=a(31),s=a(29),r=a(30),o=a(1),m=a.n(o),u=(a(184),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).onClick=function(){var e=a.props,t=e.label;(0,e.onClick)(t)},a}return Object(r.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.onClick,t=this.props,a=t.activeTab,n=t.label,i="tab-list-item "+this.props.className;return a===n&&(i+=" tab-list-active"),m.a.createElement("li",{className:i,onClick:e},n)}}]),t}(o.Component)),d=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).onClickTabItem=function(e){a.setState({activeTab:e})},console.log(a.props),a.state={activeTab:a.props.children[0]&&a.props.children[0].props.label},a}return Object(r.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.onClickTabItem,t=this.props.children,a=this.state.activeTab;return console.log(this.props.children,"children"),m.a.createElement("div",{className:"tabs"},m.a.createElement("ul",{className:"tab-list"},t.map((function(t){var n=t.props,i=n.label,l=n.className;return m.a.createElement(u,{activeTab:a,key:i,label:i,onClick:e,className:l})}))),m.a.createElement("div",null,t.map((function(e){if(e.props.label===a)return e}))))}}]),t}(o.Component),v=a(186),p=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).state={tab:a.props.tabData},a}return Object(r.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return m.a.createElement(d,null,this.state.tab.map((function(t,a){return m.a.createElement("div",{key:a,label:t.label,className:e.props.className},m.a.createElement(v.a,{active:t.active,className:e.props.className,onChange:function(a){var i=Object(n.a)(e.state.tab);e.state.tab.forEach((function(e,n){e.label===t.label&&(i[n].active=a)})),e.setState({tab:i})}},t.childtab.map((function(e){return m.a.createElement("div",{key:e},e)}))),m.a.createElement(t.Component,{key:Math.random(),tabData:t,_props:e.props}))})))}}]),t}(o.Component);p.defaultProps={className:"",tabData:[]};t.a=p},234:function(e,t,a){},311:function(e,t,a){},312:function(e,t,a){},313:function(e,t,a){},314:function(e,t,a){},315:function(e,t,a){},316:function(e,t,a){},317:function(e,t,a){},318:function(e,t,a){},334:function(e,t,a){"use strict";a.r(t);var n=a(24),i=a(25),l=a(31),c=a(29),s=a(30),r=a(1),o=a.n(r),m=(a(311),a(176)),u=a(59),d=a(32),v=a(53),p=a(81),b=a.n(p),E=(a(234),a(9)),g=a(36),f=a(54),N=a(55),h=(a(173),a(175)),O=a(172),C=a(178),j=a(15),S=function(e){var t=e.callback,a=e.attribute,n=void 0===a?{attr:"",val:""}:a,i=Object(r.useState)(n.attr),l=Object(N.a)(i,2),c=l[0],s=l[1],m=Object(r.useState)(n.val),u=Object(N.a)(m,2),d=u[0],p=u[1];return null===d&&p(""),o.a.createElement("div",{className:"add-attribute-container"},o.a.createElement("div",null,o.a.createElement("div",{className:"attribute-name"},"Attribute Name"),o.a.createElement(O.a,{className:"attribute-input",value:c,onChange:function(e){return s(e.target.value)}})),o.a.createElement("div",null,o.a.createElement("div",{className:"attribute-name"},"Attribute Value"),o.a.createElement(O.a,{className:"attribute-input",placeholder:"Expression (OR) URL",value:d,onChange:function(e){return p(e.target.value)}})),o.a.createElement("div",{className:"attribute-controller"},o.a.createElement(v.a,{className:"cancel-attribute",onClick:function(){t("cancel")}},"Cancel"),o.a.createElement(v.a,{className:"add-attribute-button",onClick:function(){c?t("add",{old:n,new:{attr:c,val:d}}):j.default.openAlert({title:"Warning",text:"Attribute name should not be empty"})}},"Add")))},y=function(e){var t=e.Criteria,a=void 0===t?[]:t,n=e.callback,i=void 0===n?function(){}:n,l=(e.CriteriaName,e.isEditPage),c=(e.InteractionComponent,e.InteractionComponentData,e.label,e.eventType),s=void 0===c?"":c,m=Object(r.useState)(!1),u=Object(N.a)(m,2),d=u[0],p=u[1],b=Object(r.useState)(!1),g=Object(N.a)(b,2),y=g[0],I=g[1],D=Object(r.useState)(!0),k=Object(N.a)(D,2),w=k[0],T=k[1],A=Object(r.useState)({}),x=Object(N.a)(A,2),B=x[0],L=x[1],R=Object(r.useState)(null),H=Object(N.a)(R,2),M=H[0],P=H[1],V=Object(r.useState)({}),F=Object(N.a)(V,2),z=F[0],J=F[1],G=Object(r.useState)(!1),_=Object(N.a)(G,2),W=_[0],U=_[1],K=Object(r.useState)(!0),X=Object(N.a)(K,2),$=X[0],q=X[1],Q=0,Y=(s.toLowerCase(),new Map);Y.set("transactional",["scheduling","reinitiate"]),Y.set("stateless",["exitcriteria"]),Y.set("temporal",[]),Y.set("passthrough",["exitcriteria"]),Y.set("stateful",[]);var Z=function(e){null===e?(L({}),T(!0)):(T(!1),L(e)),p(!0)},ee=a.map((function(t,n){var c=t.domain&&t.domain.toLowerCase()||"";return"flight"===c&&Q++,"flight"===c&&o.a.createElement("div",{className:"criteria-body ".concat(t.selected?"active-signal":""),onClick:function(){var e;e=t,a.forEach((function(e){delete e.selected})),e.selected?(e.selected=!1,P(null)):(e.selected=!0,e.domain="Flight",P(e),U(!0),L(e))}},Q&&o.a.createElement(C.a,{disableHover:!l,editHandler:function(e){e.stopPropagation(),Z(t)},deleteHandler:function(n){n.preventDefault(),n.stopPropagation(),function(t){var n=a.filter((function(e){return e.iaoSignalName!==t.iaoSignalName}));n.length||U(!1),i(Object(E.a)({},e,{InteractionComponentData:n}))}(t)}},o.a.createElement("div",{className:"criteria-list"},t.iaoSignalName,o.a.createElement("div",{className:"hover-container"}))))})),te=function(e,t){null===e&&(e=""),null===t&&(t=""),J({attr:e,val:t}),I(!0)},ae=M&&Object.keys(M.metadata).map((function(t,n){return o.a.createElement("div",{className:"criteria-body"},Q&&o.a.createElement(C.a,{disableHover:!l,deleteHandler:function(n){n.stopPropagation(),function(t){var n=B.metadata||{};n&&Object.keys(n).map((function(e){e===t&&delete n[e]}));var l;l=a.map((function(e){return e.iaoSignalName===B.iaoSignalName&&(e.metadata=n),e})),L(Object(E.a)({},B,{metadata:n})),i(Object(E.a)({},e,{InteractionComponentData:l}))}(t)},editHandler:function(e){e.stopPropagation(),q(!1),te(t,M.metadata[t])}},o.a.createElement("div",{className:"criteria-list"},t)))}));return o.a.createElement("div",{className:"scroll signal-container"},o.a.createElement("div",{className:"signals"},o.a.createElement("div",{className:"criteria-header"},l&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"header"},"Signals"),o.a.createElement("div",{className:"add-signal"},o.a.createElement(h.c,{className:"add-button-icon"}),o.a.createElement(v.a,{className:"add-signal-button",onClick:function(){L({}),Z(null)}},"Add Signal")))),d?o.a.createElement((function(e){var t=e.callback,a=e.signal;a||(a={iaoSignalName:""});var n=Object(r.useState)(a.iaoSignalName),i=Object(N.a)(n,2),l=i[0],c=i[1];return o.a.createElement("div",{className:"add-signal-container"},o.a.createElement("div",null,o.a.createElement("div",{className:"signal-name"},"Signal name"),o.a.createElement(O.a,{className:"signal-input",value:l,onChange:function(e){return c(e.target.value)}})),o.a.createElement("div",{className:"signal-controller"},o.a.createElement(v.a,{className:"cancel-signal",onClick:function(){t("cancel")}},"Cancel"),o.a.createElement(v.a,{className:"add-signal-button",onClick:function(){l?t("add",{old:a.iaoSignalName,new:l}):j.default.openAlert({title:"Warning",text:"Signal name should not be empty"})}},"Add")))}),{callback:function(t,n){if("cancel"!==t){var l=a;if("add"===t)if(w){var c=!1;if(a.forEach((function(e){e.iaoSignalName===n.new&&(c=!0)})),c)return void j.default.openAlert(Object(f.a)({text:"Warning"},"text","Signal Already Exists"));var s={metadata:{},iaoSignalName:n.new,domain:"Flight"};l.push(s)}else l=a.map((function(e){return e.iaoSignalName===n.old&&(e.iaoSignalName=n.new),e}));p(!1),i(Object(E.a)({},e,{InteractionComponentData:l}))}else p(!1)},signal:B}):o.a.createElement("div",{className:"criteria-list-container"},ee)),W&&o.a.createElement("div",{className:"signals attribute-container"},o.a.createElement("div",{className:"criteria-header"},l&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"header"},"Attributes"),o.a.createElement("div",{className:"add-attribute-button-container"},o.a.createElement(h.c,{className:"add-button-icon"}),o.a.createElement(v.a,{className:"add-attribute-button",onClick:function(){q(!0),te(null,"")}},"Add Attributes")))),y?o.a.createElement(S,{callback:function(t,n){if("cancel"!==t){var l=B.metadata||{};"add"===t&&l&&Object.keys(l).map((function(e){e===n.old.attr&&(l[n.new.attr]=n.new.value,n.old.attr!==n.new.attr&&delete l[e])})),$&&(n.new.val?l[n.new.attr]=n.new.val:l[n.new.attr]=""),I(!1);var c;c=a.map((function(e){return e.iaoSignalName===B.iaoSignalName&&(e.metadata=l),e})),L(Object(E.a)({},B,{metadata:l})),i(Object(E.a)({},e,{InteractionComponentData:c}))}else I(!1)},attribute:z}):o.a.createElement("div",{className:"criteria-list-container attribute-list-container scroll"},ae)))},I=function(e){var t=e.callback,a=e.attribute,n=void 0===a?{attr:"",val:""}:a,i=Object(r.useState)(n.attr),l=Object(N.a)(i,2),c=l[0],s=l[1],m=Object(r.useState)(n.val),u=Object(N.a)(m,2),d=u[0],p=u[1];return null===d&&p(""),o.a.createElement("div",{className:"add-attribute-container"},o.a.createElement("div",null,o.a.createElement("div",{className:"attribute-name"},"Attribute Name"),o.a.createElement(O.a,{className:"attribute-input",value:c,onChange:function(e){return s(e.target.value)}})),o.a.createElement("div",null,o.a.createElement("div",{className:"attribute-name"},"Attribute Value"),o.a.createElement(O.a,{className:"attribute-input",placeholder:"Expression (OR) URL",value:d,onChange:function(e){return p(e.target.value)}})),o.a.createElement("div",{className:"attribute-controller"},o.a.createElement(v.a,{className:"cancel-attribute",onClick:function(){t("cancel")}},"Cancel"),o.a.createElement(v.a,{className:"add-attribute-button",onClick:function(){c?t("add",{old:n,new:{attr:c,val:d}}):j.default.openAlert({title:"Warning",text:"Attribute name should not be empty"})}},"Add")))},D=function(e){var t=e.Criteria,a=void 0===t?[]:t,n=e.callback,i=void 0===n?function(){}:n,l=(e.CriteriaName,e.isEditPage),c=(e.InteractionComponent,e.InteractionComponentData,e.label,e.eventType),s=void 0===c?"":c,m=Object(r.useState)(!1),u=Object(N.a)(m,2),d=u[0],p=u[1],b=Object(r.useState)(!1),g=Object(N.a)(b,2),S=g[0],y=g[1],D=Object(r.useState)(!0),k=Object(N.a)(D,2),w=k[0],T=k[1],A=Object(r.useState)({}),x=Object(N.a)(A,2),B=x[0],L=x[1],R=Object(r.useState)(null),H=Object(N.a)(R,2),M=H[0],P=H[1],V=Object(r.useState)({}),F=Object(N.a)(V,2),z=F[0],J=F[1],G=Object(r.useState)(!1),_=Object(N.a)(G,2),W=_[0],U=_[1],K=Object(r.useState)(!0),X=Object(N.a)(K,2),$=X[0],q=X[1],Q=0,Y=(s.toLowerCase(),new Map);Y.set("transactional",["scheduling","reinitiate"]),Y.set("stateless",["exitcriteria"]),Y.set("temporal",[]),Y.set("passthrough",["exitcriteria"]),Y.set("stateful",[]);var Z=function(e){null===e?(L({}),T(!0)):(T(!1),L(e)),p(!0)},ee=a.map((function(t,n){var c=t.domain&&t.domain.toLowerCase()||"";return"pax"===c&&Q++,"pax"===c&&o.a.createElement("div",{className:"criteria-body ".concat(t.selected?"active-signal":""),onClick:function(){var e;e=t,a.forEach((function(e){delete e.selected})),e.selected?(e.selected=!1,P(null)):(e.selected=!0,e.domain="Pax",P(e),U(!0),L(e))}},Q&&o.a.createElement(C.a,{disableHover:!l,editHandler:function(e){e.stopPropagation(),Z(t)},deleteHandler:function(n){n.preventDefault(),n.stopPropagation(),function(t){var n=a.filter((function(e){return e.iaoSignalName!==t.iaoSignalName}));n.length||U(!1),i(Object(E.a)({},e,{InteractionComponentData:n}))}(t)}},o.a.createElement("div",{className:"criteria-list"},t.iaoSignalName,o.a.createElement("div",{className:"hover-container"}))))})),te=function(e,t){null===e&&(e=""),null===t&&(t=""),J({attr:e,val:t}),y(!0)},ae=M&&Object.keys(M.metadata).map((function(t,n){return o.a.createElement("div",{className:"criteria-body"},Q&&o.a.createElement(C.a,{disableHover:!l,deleteHandler:function(n){n.stopPropagation(),function(t){var n=B.metadata||{};n&&Object.keys(n).map((function(e){e===t&&delete n[e]}));var l;l=a.map((function(e){return e.iaoSignalName===B.iaoSignalName&&(e.metadata=n),e})),L(Object(E.a)({},B,{metadata:n})),i(Object(E.a)({},e,{InteractionComponentData:l}))}(t)},editHandler:function(e){e.stopPropagation(),q(!1),te(t,M.metadata[t])}},o.a.createElement("div",{className:"criteria-list"},t)))}));return o.a.createElement("div",{className:"scroll signal-container"},o.a.createElement("div",{className:"signals"},o.a.createElement("div",{className:"criteria-header"},l&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"header"},"Signals"),o.a.createElement("div",{className:"add-signal"},o.a.createElement(h.c,{className:"add-button-icon"}),o.a.createElement(v.a,{className:"add-signal-button",onClick:function(){L({}),Z(null)}},"Add Signal")))),d?o.a.createElement((function(e){var t=e.callback,a=e.signal;a||(a={iaoSignalName:""});var n=Object(r.useState)(a.iaoSignalName),i=Object(N.a)(n,2),l=i[0],c=i[1];return o.a.createElement("div",{className:"add-signal-container"},o.a.createElement("div",null,o.a.createElement("div",{className:"signal-name"},"Signal name"),o.a.createElement(O.a,{className:"signal-input",value:l,onChange:function(e){return c(e.target.value)}})),o.a.createElement("div",{className:"signal-controller"},o.a.createElement(v.a,{className:"cancel-signal",onClick:function(){t("cancel")}},"Cancel"),o.a.createElement(v.a,{className:"add-signal-button",onClick:function(){l?t("add",{old:a.iaoSignalName,new:l}):j.default.openAlert({title:"Warning",text:"Signal name should not be empty"})}},"Add")))}),{callback:function(t,n){if("cancel"!==t){var l=a;if("add"===t)if(w){var c=!1;if(a.forEach((function(e){e.iaoSignalName===n.new&&(c=!0)})),c)return void j.default.openAlert(Object(f.a)({text:"Warning"},"text","Signal Already Exists"));var s={metadata:{},iaoSignalName:n.new,domain:"Pax"};l.push(s)}else l=a.map((function(e){return e.iaoSignalName===n.old&&(e.iaoSignalName=n.new),e}));p(!1),i(Object(E.a)({},e,{InteractionComponentData:l}))}else p(!1)},signal:B}):o.a.createElement("div",{className:"criteria-list-container"},ee)),W&&o.a.createElement("div",{className:"signals attribute-container"},o.a.createElement("div",{className:"criteria-header"},l&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"header"},"Attributes"),o.a.createElement("div",{className:"add-attribute-button-container"},o.a.createElement(h.c,{className:"add-button-icon"}),o.a.createElement(v.a,{className:"add-attribute-button",onClick:function(){q(!0),te(null,"")}},"Add Attributes")))),S?o.a.createElement(I,{callback:function(t,n){if("cancel"!==t){var l=B.metadata||{};"add"===t&&l&&Object.keys(l).map((function(e){e===n.old.attr&&(l[n.new.attr]=n.new.value,n.old.attr!==n.new.attr&&delete l[e])})),$&&(n.new.val?l[n.new.attr]=n.new.val:l[n.new.attr]=""),y(!1);var c;c=a.map((function(e){return e.iaoSignalName===B.iaoSignalName&&(e.metadata=l),e})),L(Object(E.a)({},B,{metadata:l})),i(Object(E.a)({},e,{InteractionComponentData:c}))}else y(!1)},attribute:z}):o.a.createElement("div",{className:"criteria-list-container attribute-list-container scroll"},ae)))},k=function(e){var t=e.callback,a=e.attribute,n=void 0===a?{attr:"",val:""}:a,i=Object(r.useState)(n.attr),l=Object(N.a)(i,2),c=l[0],s=l[1],m=Object(r.useState)(n.val),u=Object(N.a)(m,2),d=u[0],p=u[1];return null===d&&p(""),o.a.createElement("div",{className:"add-attribute-container"},o.a.createElement("div",null,o.a.createElement("div",{className:"attribute-name"},"Attribute Name"),o.a.createElement(O.a,{className:"attribute-input",value:c,onChange:function(e){return s(e.target.value)}})),o.a.createElement("div",null,o.a.createElement("div",{className:"attribute-name"},"Attribute Value"),o.a.createElement(O.a,{className:"attribute-input",placeholder:"Expression (OR) URL",value:d,onChange:function(e){return p(e.target.value)}})),o.a.createElement("div",{className:"attribute-controller"},o.a.createElement(v.a,{className:"cancel-attribute",onClick:function(){t("cancel")}},"Cancel"),o.a.createElement(v.a,{className:"add-attribute-button",onClick:function(){c?t("add",{old:n,new:{attr:c,val:d}}):j.default.openAlert({title:"Warning",text:"Attribute name should not be empty"})}},"Add")))},w=function(e){var t=e.Criteria,a=void 0===t?[]:t,n=e.callback,i=void 0===n?function(){}:n,l=(e.CriteriaName,e.isEditPage),c=(e.InteractionComponent,e.InteractionComponentData,e.label,e.eventType),s=void 0===c?"":c,m=Object(r.useState)(!1),u=Object(N.a)(m,2),d=u[0],p=u[1],b=Object(r.useState)(!1),g=Object(N.a)(b,2),S=g[0],y=g[1],I=Object(r.useState)(!0),D=Object(N.a)(I,2),w=D[0],T=D[1],A=Object(r.useState)({}),x=Object(N.a)(A,2),B=x[0],L=x[1],R=Object(r.useState)(null),H=Object(N.a)(R,2),M=H[0],P=H[1],V=Object(r.useState)({}),F=Object(N.a)(V,2),z=F[0],J=F[1],G=Object(r.useState)(!1),_=Object(N.a)(G,2),W=_[0],U=_[1],K=Object(r.useState)(!0),X=Object(N.a)(K,2),$=X[0],q=X[1],Q=0,Y=(s.toLowerCase(),new Map);Y.set("transactional",["scheduling","reinitiate"]),Y.set("stateless",["exitcriteria"]),Y.set("temporal",[]),Y.set("passthrough",["exitcriteria"]),Y.set("stateful",[]);var Z=function(e){null===e?(L({}),T(!0)):(T(!1),L(e)),p(!0)},ee=a.map((function(t,n){var c=t.domain&&t.domain.toLowerCase()||"";return"crew"===c&&Q++,"crew"===c&&o.a.createElement("div",{className:"criteria-body ".concat(t.selected?"active-signal":""),onClick:function(){var e;e=t,a.forEach((function(e){delete e.selected})),e.selected?(e.selected=!1,P(null)):(e.selected=!0,e.domain="Crew",P(e),U(!0),L(e))}},Q&&o.a.createElement(C.a,{disableHover:!l,editHandler:function(e){e.stopPropagation(),Z(t)},deleteHandler:function(n){n.preventDefault(),n.stopPropagation(),function(t){var n=a.filter((function(e){return e.iaoSignalName!==t.iaoSignalName}));n.length||U(!1),i(Object(E.a)({},e,{InteractionComponentData:n}))}(t)}},o.a.createElement("div",{className:"criteria-list"},t.iaoSignalName,o.a.createElement("div",{className:"hover-container"}))))})),te=function(e,t){null===e&&(e=""),null===t&&(t=""),J({attr:e,val:t}),y(!0)},ae=M&&Object.keys(M.metadata).map((function(t,n){return o.a.createElement("div",{className:"criteria-body"},Q&&o.a.createElement(C.a,{disableHover:!l,deleteHandler:function(n){n.stopPropagation(),function(t){var n=B.metadata||{};n&&Object.keys(n).map((function(e){e===t&&delete n[e]}));var l;l=a.map((function(e){return e.iaoSignalName===B.iaoSignalName&&(e.metadata=n),e})),L(Object(E.a)({},B,{metadata:n})),i(Object(E.a)({},e,{InteractionComponentData:l}))}(t)},editHandler:function(e){e.stopPropagation(),q(!1),te(t,M.metadata[t])}},o.a.createElement("div",{className:"criteria-list"},t)))}));return o.a.createElement("div",{className:"scroll signal-container"},o.a.createElement("div",{className:"signals"},o.a.createElement("div",{className:"criteria-header"},l&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"header"},"Signals"),o.a.createElement("div",{className:"add-signal"},o.a.createElement(h.c,{className:"add-button-icon"}),o.a.createElement(v.a,{className:"add-signal-button",onClick:function(){L({}),Z(null)}},"Add Signal")))),d?o.a.createElement((function(e){var t=e.callback,a=e.signal;a||(a={iaoSignalName:""});var n=Object(r.useState)(a.iaoSignalName),i=Object(N.a)(n,2),l=i[0],c=i[1];return o.a.createElement("div",{className:"add-signal-container"},o.a.createElement("div",null,o.a.createElement("div",{className:"signal-name"},"Signal name"),o.a.createElement(O.a,{className:"signal-input",value:l,onChange:function(e){return c(e.target.value)}})),o.a.createElement("div",{className:"signal-controller"},o.a.createElement(v.a,{className:"cancel-signal",onClick:function(){t("cancel")}},"Cancel"),o.a.createElement(v.a,{className:"add-signal-button",onClick:function(){l?t("add",{old:a.iaoSignalName,new:l}):j.default.openAlert({title:"Warning",text:"Signal name should not be empty"})}},"Add")))}),{callback:function(t,n){if("cancel"!==t){var l=a;if("add"===t)if(w){var c=!1;if(a.forEach((function(e){e.iaoSignalName===n.new&&(c=!0)})),c)return void j.default.openAlert(Object(f.a)({text:"Warning"},"text","Signal Already Exists"));var s={metadata:{},iaoSignalName:n.new,domain:"Crew"};l.push(s)}else l=a.map((function(e){return e.iaoSignalName===n.old&&(e.iaoSignalName=n.new),e}));p(!1),i(Object(E.a)({},e,{InteractionComponentData:l}))}else p(!1)},signal:B}):o.a.createElement("div",{className:"criteria-list-container"},ee)),W&&o.a.createElement("div",{className:"signals attribute-container"},o.a.createElement("div",{className:"criteria-header"},l&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"header"},"Attributes"),o.a.createElement("div",{className:"add-attribute-button-container"},o.a.createElement(h.c,{className:"add-button-icon"}),o.a.createElement(v.a,{className:"add-attribute-button",onClick:function(){q(!0),te(null,"")}},"Add Attributes")))),S?o.a.createElement(k,{callback:function(t,n){if("cancel"!==t){var l=B.metadata||{};"add"===t&&l&&Object.keys(l).map((function(e){e===n.old.attr&&(l[n.new.attr]=n.new.value,n.old.attr!==n.new.attr&&delete l[e])})),$&&(n.new.val?l[n.new.attr]=n.new.val:l[n.new.attr]=""),y(!1);var c;c=a.map((function(e){return e.iaoSignalName===B.iaoSignalName&&(e.metadata=l),e})),L(Object(E.a)({},B,{metadata:l})),i(Object(E.a)({},e,{InteractionComponentData:c}))}else y(!1)},attribute:z}):o.a.createElement("div",{className:"criteria-list-container attribute-list-container scroll"},ae)))},T=function(e){var t=e.callback,a=e.attribute,n=void 0===a?{attr:"",val:""}:a,i=Object(r.useState)(n.attr),l=Object(N.a)(i,2),c=l[0],s=l[1],m=Object(r.useState)(n.val),u=Object(N.a)(m,2),d=u[0],p=u[1];return null===d&&p(""),o.a.createElement("div",{className:"add-attribute-container"},o.a.createElement("div",null,o.a.createElement("div",{className:"attribute-name"},"Attribute Name"),o.a.createElement(O.a,{className:"attribute-input",value:c,onChange:function(e){return s(e.target.value)}})),o.a.createElement("div",null,o.a.createElement("div",{className:"attribute-name"},"Attribute Value"),o.a.createElement(O.a,{className:"attribute-input",placeholder:"Expression (OR) URL",value:d,onChange:function(e){return p(e.target.value)}})),o.a.createElement("div",{className:"attribute-controller"},o.a.createElement(v.a,{className:"cancel-attribute",onClick:function(){t("cancel")}},"Cancel"),o.a.createElement(v.a,{className:"add-attribute-button",onClick:function(){c?t("add",{old:n,new:{attr:c,val:d}}):j.default.openAlert({title:"Warning",text:"Attribute name should not be empty"})}},"Add")))},A=function(e){var t=e.Criteria,a=void 0===t?[]:t,n=e.callback,i=void 0===n?function(){}:n,l=(e.CriteriaName,e.isEditPage),c=(e.InteractionComponent,e.InteractionComponentData,e.label,e.eventType),s=void 0===c?"":c,m=Object(r.useState)(!1),u=Object(N.a)(m,2),d=u[0],p=u[1],b=Object(r.useState)(!1),g=Object(N.a)(b,2),S=g[0],y=g[1],I=Object(r.useState)(!0),D=Object(N.a)(I,2),k=D[0],w=D[1],A=Object(r.useState)({}),x=Object(N.a)(A,2),B=x[0],L=x[1],R=Object(r.useState)(null),H=Object(N.a)(R,2),M=H[0],P=H[1],V=Object(r.useState)({}),F=Object(N.a)(V,2),z=F[0],J=F[1],G=Object(r.useState)(!1),_=Object(N.a)(G,2),W=_[0],U=_[1],K=Object(r.useState)(!0),X=Object(N.a)(K,2),$=X[0],q=X[1],Q=0,Y=(s.toLowerCase(),new Map);Y.set("transactional",["scheduling","reinitiate"]),Y.set("stateless",["exitcriteria"]),Y.set("temporal",[]),Y.set("passthrough",["exitcriteria"]),Y.set("stateful",[]);var Z=function(e){null===e?(L({}),w(!0)):(w(!1),L(e)),p(!0)},ee=a.map((function(t,n){var c=t.domain&&t.domain.toLowerCase()||"";return"engg"===c&&Q++,"engg"===c&&o.a.createElement("div",{className:"criteria-body ".concat(t.selected?"active-signal":""),onClick:function(){var e;e=t,a.forEach((function(e){delete e.selected})),e.selected?(e.selected=!1,P(null)):(e.selected=!0,e.domain="Engg",P(e),U(!0),L(e))}},Q&&o.a.createElement(C.a,{disableHover:!l,editHandler:function(e){e.stopPropagation(),Z(t)},deleteHandler:function(n){n.preventDefault(),n.stopPropagation(),function(t){var n=a.filter((function(e){return e.iaoSignalName!==t.iaoSignalName}));n.length||U(!1),i(Object(E.a)({},e,{InteractionComponentData:n}))}(t)}},o.a.createElement("div",{className:"criteria-list"},t.iaoSignalName,o.a.createElement("div",{className:"hover-container"}))))})),te=function(e,t){null===e&&(e=""),null===t&&(t=""),J({attr:e,val:t}),y(!0)},ae=M&&Object.keys(M.metadata).map((function(t,n){return o.a.createElement("div",{className:"criteria-body"},Q&&o.a.createElement(C.a,{disableHover:!l,deleteHandler:function(n){n.stopPropagation(),function(t){var n=B.metadata||{};n&&Object.keys(n).map((function(e){e===t&&delete n[e]}));var l;l=a.map((function(e){return e.iaoSignalName===B.iaoSignalName&&(e.metadata=n),e})),L(Object(E.a)({},B,{metadata:n})),i(Object(E.a)({},e,{InteractionComponentData:l}))}(t)},editHandler:function(e){e.stopPropagation(),q(!1),te(t,M.metadata[t])}},o.a.createElement("div",{className:"criteria-list"},t)))}));return o.a.createElement("div",{className:"scroll signal-container"},o.a.createElement("div",{className:"signals"},o.a.createElement("div",{className:"criteria-header"},l&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"header"},"Signals"),o.a.createElement("div",{className:"add-signal"},o.a.createElement(h.c,{className:"add-button-icon"}),o.a.createElement(v.a,{className:"add-signal-button",onClick:function(){L({}),Z(null)}},"Add Signal")))),d?o.a.createElement((function(e){var t=e.callback,a=e.signal;a||(a={iaoSignalName:""});var n=Object(r.useState)(a.iaoSignalName),i=Object(N.a)(n,2),l=i[0],c=i[1];return o.a.createElement("div",{className:"add-signal-container"},o.a.createElement("div",null,o.a.createElement("div",{className:"signal-name"},"Signal name"),o.a.createElement(O.a,{className:"signal-input",value:l,onChange:function(e){return c(e.target.value)}})),o.a.createElement("div",{className:"signal-controller"},o.a.createElement(v.a,{className:"cancel-signal",onClick:function(){t("cancel")}},"Cancel"),o.a.createElement(v.a,{className:"add-signal-button",onClick:function(){l?t("add",{old:a.iaoSignalName,new:l}):j.default.openAlert({title:"Warning",text:"Signal name should not be empty"})}},"Add")))}),{callback:function(t,n){if("cancel"!==t){var l=a;if("add"===t)if(k){var c=!1;if(a.forEach((function(e){e.iaoSignalName===n.new&&(c=!0)})),c)return void j.default.openAlert(Object(f.a)({text:"Warning"},"text","Signal Already Exists"));var s={metadata:{},iaoSignalName:n.new,domain:"Engg"};l.push(s)}else l=a.map((function(e){return e.iaoSignalName===n.old&&(e.iaoSignalName=n.new),e}));p(!1),i(Object(E.a)({},e,{InteractionComponentData:l}))}else p(!1)},signal:B}):o.a.createElement("div",{className:"criteria-list-container"},ee)),W&&o.a.createElement("div",{className:"signals attribute-container"},o.a.createElement("div",{className:"criteria-header"},l&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"header"},"Attributes"),o.a.createElement("div",{className:"add-attribute-button-container"},o.a.createElement(h.c,{className:"add-button-icon"}),o.a.createElement(v.a,{className:"add-attribute-button",onClick:function(){q(!0),te(null,"")}},"Add Attributes")))),S?o.a.createElement(T,{callback:function(t,n){if("cancel"!==t){var l=B.metadata||{};"add"===t&&l&&Object.keys(l).map((function(e){e===n.old.attr&&(l[n.new.attr]=n.new.value,n.old.attr!==n.new.attr&&delete l[e])})),$&&(n.new.val?l[n.new.attr]=n.new.val:l[n.new.attr]=""),y(!1);var c;c=a.map((function(e){return e.iaoSignalName===B.iaoSignalName&&(e.metadata=l),e})),L(Object(E.a)({},B,{metadata:l})),i(Object(E.a)({},e,{InteractionComponentData:c}))}else y(!1)},attribute:z}):o.a.createElement("div",{className:"criteria-list-container attribute-list-container scroll"},ae)))},x=(a(60),a(312),a(190)),B=function(e){function t(){var e,a;Object(n.a)(this,t);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={isNewScheduling:!0,schedulingCondition:a.props.InteractionComponentData,addschedule:!1},a.changeHandler=function(e,t){var n=a.props.InteractionComponentData,i=void 0===n?{}:n;if("operator"===t)i[t]=e.title,a.list.forEach((function(t){t.selected=!1,t.title===e.title&&(t.selected=!0)}));else if("scheduleKey"===t)i[t]=e.target.value;else{var l=e.target.value;/^\d*$/.test(l)&&(i[t]=e.target.value)}a.props.callback({label:a.props.label,InteractionComponentData:i})},a.list=[{title:"ADD",selected:!1},{title:"SUBTRACT",selected:!1}],a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.InteractionComponentData||{},a=t.scheduleKey,n=void 0===a?"":a,i=t.snoozesTimeValueMins,l=void 0===i?1:i,c=t.snoozesTimeIncrementValueMins,s=void 0===c?0:c,r=t.operator,m=void 0===r?"ADD":r;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"Schedulling-attributes "},o.a.createElement("div",{className:"Schedulling-attributes "},o.a.createElement("div",{className:"Schedulling-heading"},"Attribute Name"),o.a.createElement("div",{className:"Schedulling-inputfields"},o.a.createElement(O.a,{value:n,type:"text",onChange:function(t){return e.changeHandler(t,"scheduleKey")}})),o.a.createElement("div",{className:"Schedulling-Dropdown-box"},o.a.createElement("div",{className:"Schedulling-Snooze-time-heading"},"Operator"),o.a.createElement("div",{className:"Schedulling-Snooze-time-inputfields",style:{width:"40%"}},o.a.createElement(x.a,{list:this.list,toggleItem:function(t){return e.changeHandler(t,"operator")},title:m}))),o.a.createElement("div",{className:"Schedulling-Snooze-and-IncrementalValue-box"},o.a.createElement("div",{className:"Schedulling-Snooze-box"},o.a.createElement("div",{className:"Schedulling-Snooze-time-heading"},"Snooze time"),o.a.createElement("div",{className:"Schedulling-Snooze-time-inputfields"},o.a.createElement(O.a,{value:l,type:"text",onChange:function(t){return e.changeHandler(t,"snoozesTimeValueMins")}}),o.a.createElement("span",{className:"minute"},"Min"))),o.a.createElement("div",{className:"Schedulling-Snooze-time-box"},o.a.createElement("div",{className:"Schedulling-Snooze-time-heading"},"Incremental Value"),o.a.createElement("div",{className:"Schedulling-Snooze-time-inputfields"},o.a.createElement(O.a,{value:s,type:"text",onChange:function(t){return e.changeHandler(t,"snoozesTimeIncrementValueMins")}}),o.a.createElement("span",{className:"minute"},"Min")))))))}}]),t}(r.Component),L=(a(313),a(12),function(e){function t(){var e,a;Object(n.a)(this,t);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={newRuleMapping:{ruleId:"",ruleConstruct:""},tempMapping:{}},a.changeHandler=function(e,t){var n=a.state.newRuleMapping;n[t]=e.target.value,a.setState({newRuleMapping:n})},a.editRule=function(e){a.setState({newRuleMapping:e,tempMapping:JSON.parse(JSON.stringify(e))})},a.deleteRule=function(e){var t=a.props.InteractionComponentData||[];t=t.filter((function(t){return t.ruleId!==e.ruleId})),a.props.callback({label:a.props.label,InteractionComponentData:t})},a.addRule=function(){var e=a.state.newRuleMapping,t=a.props.InteractionComponentData||[];if(e.ruleId)if(e.ruleConstruct){console.log(a.state.tempMapping,"fdasf");var n=!0;t=t.map((function(e){return console.log(e,a.state.tempMapping,"fdasf"),a.state.tempMapping.ruleId&&e.ruleId===a.state.tempMapping.ruleId?(n=!1,a.state.newRuleMapping):e})),n&&t.push(a.state.newRuleMapping),a.setState({ruleMapping:t,newRuleMapping:{ruleId:"",ruleConstruct:""},tempMapping:{}},(function(){a.props.callback({label:a.props.label,InteractionComponentData:t})}))}else j.default.openAlert({title:"warning",text:"RuleConstruct must be filled"});else j.default.openAlert({title:"warning",text:"Rule Id must be filled"})},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"width-50"},o.a.createElement("div",{className:"RuleBox"},o.a.createElement("div",{className:"Rule"},o.a.createElement("div",{className:"RuleID"},"Rule ID",o.a.createElement("div",{className:"RuleID-inputfields"},o.a.createElement(O.a,{placeholder:"XD0428",onChange:function(t){e.changeHandler(t,"ruleId")},value:this.state.newRuleMapping.ruleId}))),o.a.createElement("div",{className:"RuleName"},"Rule Name",o.a.createElement("div",{className:"RuleName-inputfields"},o.a.createElement(O.a,{placeholder:"Rule Name",onChange:function(t){e.changeHandler(t,"ruleConstruct")},value:this.state.newRuleMapping.ruleConstruct}))),o.a.createElement("div",{className:"AddRuleBox",onClick:this.addRule},o.a.createElement(v.a,{className:"AddRuleName"},"Add",o.a.createElement(h.c,{className:"AddRuleIcon"})))),this.props.InteractionComponentData&&this.props.InteractionComponentData.map((function(t,a){return t.ruleId?o.a.createElement("div",{key:a,className:"RuleDisplay"},o.a.createElement(C.a,{disableHover:!e.props.isEditPage,editHandler:function(){return e.editRule(JSON.parse(JSON.stringify(t)))},deleteHandler:function(){e.deleteRule(JSON.parse(JSON.stringify(t)))}},o.a.createElement("div",{className:"RuleIDDisplay"},t.ruleId),o.a.createElement("div",{className:"RuleNameDisplay"},t.ruleConstruct))):null})))))}}]),t}(r.Component)),R=a(174),H=(a(314),a(48)),M=a(177),P=function(e){function t(){var e,a;Object(n.a)(this,t);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={},a.mappingList={},a.generateList=function(e,t){"object"===typeof e&&Object.keys(e).forEach((function(n){if("object"===typeof e[n])if(e[n].properties){var i=JSON.parse(JSON.stringify(e[n].properties));t[n]=i;var l=e.currentListPath?e.currentListPath+"."+n:n;t[n].currentListPath=l,a.generateList(i,t[n])}else if("object"===typeof e&&e[n]){t[n]=e[n];var c=e.currentListPath?e.currentListPath+"."+n:n;t[n].currentListPath=c,a.generateList(e[n],t[n])}}))},a.toggleCreation=function(e){var t=a.props.data.Criteria[0],n=t.selected[0],i=t.metadata[n];if("object"===typeof e)return Object.keys(e).map((function(l,c){if("object"===typeof e[l]){var s=a.toggleCreation(e[l]),r=e.currentListPath?e.currentListPath+"."+l:l;if(!s[0]){var m=!!i.includes(r);return o.a.createElement("div",{key:c,className:"last-child-mapper",onClick:function(e){t.metadata[n]=r,a.props.callback&&a.props.callback(a.props.data)}},o.a.createElement("div",null,l,m&&o.a.createElement("div",{className:"mapping-tick"},o.a.createElement(M.a,null))))}var u=!!i.includes(r);return o.a.createElement("div",{className:"mappingslider"},o.a.createElement(R.a,{key:u?c:Math.random(),open:u,header:l,content:s,customToggler:{open:o.a.createElement(H.d,null),close:o.a.createElement(H.c,null)}}))}return null}))},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){console.log(this.props,"data");var e=this.props.data.InteractionComponentData,t=e&&e.eventstore&&e.eventstore.mappings&&e.eventstore.mappings.properties||{};return this.generateList(t,this.mappingList),o.a.createElement("div",{className:"mapping-parent"},this.toggleCreation(this.mappingList))}}]),t}(r.Component),V=function(e){function t(){var e,a;Object(n.a)(this,t);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={instanceData:a.props.instanceData},a.ChooseTemplate=function(e){var t=e.active,n=null;return"flight"===t.toLowerCase()&&(n=o.a.createElement(y,e)),"pax"===t.toLowerCase()&&(n=o.a.createElement(D,e)),"crew"===t.toLowerCase()&&(n=o.a.createElement(w,e)),"bag"===t.toLowerCase()&&(n=o.a.createElement(w,e)),"engg"===t.toLowerCase()&&(n=o.a.createElement(A,e)),"ground"===t.toLowerCase()&&(n=o.a.createElement(A,e)),"Rule"===e.label&&(n=o.a.createElement(L,e)),"Schedule"===e.label&&(n=o.a.createElement(B,e)),n?o.a.createElement(o.a.Fragment,null,n,e.isEditPage&&o.a.createElement("div",{className:"save-container"},o.a.createElement(v.a,{onClick:function(){a.props.closeEdit()}},"cancel"),o.a.createElement(v.a,{onClick:function(){var e=JSON.parse(JSON.stringify(a.state.instanceData));["entryCriteria","exitCriteria","reinitiateCriteria"].forEach((function(t){if(e[t]){var a=Object(g.a)(e[t]);a=a.map((function(e){return e.selected&&delete e.selected,e})),e[t]=a}}));var t=a.props.instanceData;t.businessEvent?t.eventDescription?t.eventType?(e.eventType=t.eventType,e.businessEvent=t.businessEvent,e.eventDescription=t.eventDescription,a.props.updateInstance(e),a.props.closeEdit()):j.default.openAlert({title:"warning",text:"Please Select type"}):j.default.openAlert({title:"warning",text:"Please Enter Event Description"}):j.default.openAlert({title:"warning",text:"Please Enter Event Name"})}},"save"))):null},a.selectedData=function(e){var t=Object(E.a)({},a.state.instanceData);"Schedule"===e.label&&Object.keys(e.InteractionComponentData).length&&(t.schedulingCondition=e.InteractionComponentData),"Rule"===e.label&&(t.ruleMapping=e.InteractionComponentData),"Rule"!==e.label&&"Schedule"!==e.label&&(t[e.CriteriaName]=e.InteractionComponentData),"Rule"===e.label?a.props.updateState(t):a.setState({instanceData:t})},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.instanceData,t=e.entryCriteria,a=void 0===t?[]:t,n=e.exitCriteria,i=void 0===n?[]:n,l=e.reinitiateCriteria,c=void 0===l?[]:l,s=e.schedulingCondition,r=void 0===s?{}:s,o=e.ruleMapping,m=void 0===o?[]:o,u=e.subscription,d=void 0===u?[]:u,v=e.eventType,p=void 0===v?"":v,b=this.props.tabData,g=b.label,f=b.active,N=void 0===f?"":f,h=this.props._props.isEditPage,O={eventType:p,active:N,callback:this.props._props.isEditPage?this.selectedData:function(){},isEditPage:h,label:g};return"Entry"===g?this.ChooseTemplate(Object(E.a)({},O,{Criteria:a,InteractionComponent:P,InteractionComponentData:a,CriteriaName:"entryCriteria"})):"Exit"===g?this.ChooseTemplate(Object(E.a)({},O,{InteractionComponent:P,InteractionComponentData:{},Criteria:i,CriteriaName:"exitCriteria"})):"Reinstate"===g?this.ChooseTemplate(Object(E.a)({},O,{InteractionComponent:P,InteractionComponentData:{},Criteria:c,CriteriaName:"reinitiateCriteria"})):"Schedule"===g?this.ChooseTemplate(Object(E.a)({},O,{Criteria:a,InteractionComponent:B,InteractionComponentData:r,CriteriaName:"scheduling"})):"Rule"===g?this.ChooseTemplate(Object(E.a)({},O,{Criteria:d,InteractionComponent:L,InteractionComponentData:m,CriteriaName:"rule"})):null}}]),t}(r.Component),F={updateInstance:u.a.updateBusiness_Template,getEvent_Template:u.a.getBusiness_Event_Template},z=Object(d.b)((function(e){}),F)(V),J=a(207),G=(a(315),function(e){function t(){var e,a;Object(n.a)(this,t);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={instanceData:JSON.parse(JSON.stringify(a.props.instanceData))},a.updateValue=function(e){a.setState({instanceData:e},(function(){console.log(a.state.instanceData,"criteriastate")}))},a.updateState=function(e){return a.setState({instanceData:e},(function(){}))},a.listComponent=function(e){return o.a.createElement(z,Object.assign({},a.props,e,{instanceData:a.state.instanceData,updateState:a.updateState,callback:a.selectedData}))},a.tabList=[{label:"Entry",childtab:["FLIGHT","PAX","CREW","BAG","ENGG","GROUND"],active:"FLIGHT",Component:a.listComponent},{label:"Exit",childtab:["FLIGHT","PAX","CREW","BAG","ENGG","GROUND"],active:"FLIGHT",Component:a.listComponent},{label:"Reinstate",childtab:["FLIGHT","PAX","CREW","BAG","ENGG","GROUND"],active:"FLIGHT",Component:a.listComponent},{label:"Schedule",childtab:[],active:"FLIGHT",Component:a.listComponent},{label:"Rule",childtab:[],active:"FLIGHT",Component:a.listComponent}],a.saveCriteria=function(){},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){if(!this.state.instanceData.schedulingCondition){var e=this.state.instanceData;e.schedulingCondition={scheduleKey:"",snoozesTimeValueMins:1,snoozesTimeIncrementValueMins:0,operator:"ADD"},this.setState({instanceData:e})}var t="EDIT"===this.props.page;return o.a.createElement("div",{className:"businessevent-criteria"},t&&o.a.createElement(_,{instanceData:this.state.instanceData,callback:this.updateValue}),o.a.createElement("div",{className:"criteria-list"},o.a.createElement(J.a,{className:"event-edit",tabData:this.tabList,isEditPage:t})))}}]),t}(r.Component)),_=function(e){var t=e.instanceData,a=e.callback,n=t.businessEvent,i=void 0===n?"":n,l=t.eventDescription,c=void 0===l?"":l,s=t.eventType,r=void 0===s?"Stateful":s,m=[{title:"Transactional",selected:!1},{title:"Temporal",selected:!1},{title:"Stateless",selected:!1},{title:"Passthrough",selected:!1},{title:"Stateful",selected:!1}];m=m.map((function(e){return e.title===r&&(e.selected=!0),e}));var u=function(e,n){var i=t;i[n]=e,a(i)};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"addEvent"},o.a.createElement("div",{className:"addEventText"},"Add Event"),o.a.createElement("div",{className:"bottomline"}),o.a.createElement("div",{className:"eventDetails"},o.a.createElement("div",{className:"Name"},"Event Name"),o.a.createElement("div",{className:"eventinput"},o.a.createElement(O.a,{value:i,onChange:function(e){return u(e.target.value,"businessEvent")},placeholder:"Enter"}))),o.a.createElement("div",{className:"eventDetails"},o.a.createElement("div",{className:"Name"},"Description"),o.a.createElement("div",{className:"eventinput"},o.a.createElement("textarea",{value:c,onChange:function(e){return u(e.target.value,"eventDescription")},placeholder:"Enter",type:"text",className:"description"}))),o.a.createElement("div",{className:"eventDetails"},o.a.createElement("div",{className:"Name"},"Type"),o.a.createElement("div",{className:"eventinput",style:{width:"40%"}},o.a.createElement(x.a,{title:r,list:m,toggleItem:function(e){u(e.title,"eventType")}})))))},W=function(e){function t(){var e,a;Object(n.a)(this,t);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.instanceData,t=e.businessEventTemplateId,a=e.businessEvent,n=e.eventDescription,i=e.influencers,l=void 0===i?[]:i,c=e.businessTargetedDomains,s=void 0===c?[]:c,r=e.ruleMapping,m=void 0===r?[]:r,u=e.subscription,d=void 0===u?[]:u;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"eventListViewDescription"},o.a.createElement("div",{className:"businesseventname"},o.a.createElement("div",{className:"businesseventdetails"},o.a.createElement("div",{className:"eventNo"},t),o.a.createElement("div",{className:"eventName"},a)),o.a.createElement("div",{className:"businesseventdescription"},n)),o.a.createElement(K,{subscription:d}),o.a.createElement(X,{businessTargetedDomains:s}),o.a.createElement($,{influencers:l}),o.a.createElement(q,{ruleMapping:m}),o.a.createElement(U,{instanceData:this.props.instanceData})))}}]),t}(r.Component),U=function(e){var t=e.instanceData,a=void 0===t?[]:t;return o.a.createElement("div",null,o.a.createElement("div",{className:"Domain"},o.a.createElement("div",{className:"header"},"Conditions"),o.a.createElement(G,{instanceData:a,page:"VIEW"})))},K=function(e){var t=e.subscription;return t.length?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"Domain"},o.a.createElement("div",{className:"header"},"Subscribers"),o.a.createElement("div",{className:"domainDetails"},t.map((function(e,t){return o.a.createElement("div",{key:t,className:"domainNames"},e.subscriptionDetails.subscriberGroup)}))))):null},X=function(e){var t=e.businessTargetedDomains;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"Domain"},o.a.createElement("div",{className:"header"},"Correlated Domain"),o.a.createElement("div",{className:"domainDetails"},t.map((function(e,t){return o.a.createElement("div",{key:t,className:"domainNames"},e)})))))},$=function(e){var t=e.influencers;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"Domain"},o.a.createElement("div",{className:"header"},"Influenced Enterprise Events"),o.a.createElement("div",{className:"domainDetails"},t.map((function(e,t){return o.a.createElement("div",{key:t,className:"domainNames"},e)})))))},q=function(e){var t=e.ruleMapping;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"Domain"},o.a.createElement("div",{className:"header"},"Determinant Rules"),o.a.createElement("div",{className:"domainDetails"},t.map((function(e,t){return o.a.createElement("div",{key:t,style:{display:"flex"}},o.a.createElement("div",{className:"domainNames",style:{width:"20%"}},e.ruleId),o.a.createElement("div",{className:"domainNames",style:{width:"80%"}},e.ruleConstruct))})))))},Q=(a(316),function(e){function t(){var e,a;Object(n.a)(this,t);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={currentView:"LIST"},a.handleEdit=function(e){a.setState({currentView:e})},a.cancelEdit=function(){a.setState({currentView:"LIST"}),a.props.closeEdit&&a.props.closeEdit()},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=JSON.parse(JSON.stringify(this.props.instanceData));return t&&!t.schedulingCondition&&(t.schedulingCondition={scheduleKey:"",snoozesTimeValueMins:0,snoozesTimeIncrementValueMins:0,operator:"ADD"}),o.a.createElement(o.a.Fragment,null,"EDIT"===this.state.currentView?o.a.createElement(G,{instanceData:t,page:"EDIT",closeEdit:this.cancelEdit}):o.a.createElement("div",{className:"eventListView"},o.a.createElement("div",{className:"userCreateMain"},o.a.createElement("div",{className:"userCreateName"},"User Created Name"),o.a.createElement("div",{className:"edit",onClick:function(){return e.handleEdit("EDIT")}},"Edit")),o.a.createElement("div",{className:"bottomline"}),o.a.createElement(W,{instanceData:this.props.instanceData})))}}]),t}(r.Component)),Y=function(e){function t(){var e,a;Object(n.a)(this,t);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={currentToggler:"activeEvent",selectedInstance:{},searchBoxValue:"",createNewEvent:null},a.businesseventTemplateData=[],a.activeEvent=[],a.getInstance=function(e){a.activeEvent=[],e.forEach((function(e){a.activeEvent.push(e)}))},a.searchHandler=function(e,t){a.setState({searchBoxValue:e.target.value,list:t})},a.selectInstance=function(e){if(a.state.selectedInstance.businessEventTemplateId===e.businessEventTemplateId)a.setState({selectedInstance:{}});else{var t=JSON.parse(JSON.stringify(e));a.setState({selectedInstance:t,createNewEvent:null})}},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.getBusinessEvent()}},{key:"render",value:function(){var e=this;this.props.businesseventTemplateData&&this.getInstance(this.props.businesseventTemplateData);var t={activeEvent:this.activeEvent},a=this.state.searchBoxValue.length?this.state.list:t[this.state.currentToggler];return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"BusinessEventInstances"},o.a.createElement("div",{className:"BusinessEvents"},o.a.createElement("div",{className:"BusinessEvent-left-box"},o.a.createElement("div",{className:"BusinessEvent_Box"},o.a.createElement("div",{className:"Business-searchContainer"},o.a.createElement("div",{className:"Business-Event-search-header"},o.a.createElement(m.a,{placeholder:"Search by name",onChange:this.searchHandler,list:t[this.state.currentToggler],value:this.state.searchBoxValue,className:"Business-EventListSearchBar",filterBy:["businessEventTemplateId","businessEvent"]})))),o.a.createElement("div",{className:"create-event-button-container"},o.a.createElement(v.a,{className:"create-event-button",onClick:function(){return e.setState({createNewEvent:!0,selectedInstance:{}})}},"Add Event"),o.a.createElement(h.c,{className:"create-event-icon"})),o.a.createElement("div",{className:"Business-EventListBox scroll"},a&&a.map((function(t,a){return o.a.createElement("div",{key:a,className:"Business-EventListDetails "+"".concat(e.state.selectedInstance.businessEventTemplateId===t.businessEventTemplateId?"activeInstance":""),onClick:function(a){return e.selectInstance(t)}},o.a.createElement("div",{className:"BusinessListName-Area"},o.a.createElement("div",{className:"BusinessListID"},t.businessEventTemplateId)),o.a.createElement("div",{className:"BusinessListNameandBaseBody"},o.a.createElement("div",{className:"BusinessListName"},o.a.createElement("div",null,t.businessEvent),o.a.createElement("div",{className:"BusinessListBaseBody"},t.eventDescription))),o.a.createElement("div",{className:"Business-Event-Transactional-button-Container"},o.a.createElement("div",{className:"Business-Event-Transactional-button-Area"},o.a.createElement(v.a,{className:"Business-Event-Transactional-button"},t.eventType))))}))))),o.a.createElement("div",{className:"Selection-panel scroll"},this.state.createNewEvent?o.a.createElement(G,{instanceData:JSON.parse(JSON.stringify(this.props.sampleObjectAddEvent)),page:"EDIT",closeEdit:function(){e.setState({createNewEvent:null,selectedInstance:{}})}}):this.state.selectedInstance.businessEventTemplateId?o.a.createElement(Q,{key:Math.random(),instanceData:this.state.selectedInstance,closeEdit:function(){e.setState({createNewEvent:null,selectedInstance:{}})}}):o.a.createElement(Z,null))))}}]),t}(o.a.Component),Z=function(){return o.a.createElement("div",{className:"no-event"},o.a.createElement("div",null,o.a.createElement("img",{src:b.a})),'Select a "Active Business Event" to View')};var ee={getBusinessEvent:u.a.getBusiness_Event_Template},te=Object(d.b)((function(e){return e.businesseventConfigReducer}),ee)(Y),ae=(a(317),a(318),function(e){function t(){var e,a;Object(n.a)(this,t);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={currentToggler:"activeInstance",selectedInstance:{},searchBoxValue:""},a.businesseventTemplateData=[],a.activeInstance=[],a.getInstance=function(e){console.log(e,"dassss"),a.activeInstance=[],e.forEach((function(e){a.activeInstance.push(e)}))},a.searchHandler=function(e,t){a.setState({searchBoxValue:e.target.value,list:t})},a.selectInstance=function(e){if(a.state.selectedInstance.businessEventTemplateId===e.businessEventTemplateId)a.setState({selectedInstance:{}});else{var t=JSON.parse(JSON.stringify(e));a.setState({selectedInstance:t})}},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.getBusinessEvent(),console.log(this.state,"businesseventtopage")}},{key:"render",value:function(){var e=this;console.log("bbbeventList",this.props.businesseventTemplateData),this.props.businesseventTemplateData&&this.getInstance(this.props.businesseventTemplateData);var t={activeInstance:this.activeInstance},a=this.state.searchBoxValue.length?this.state.list:t[this.state.currentToggler];return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"BusinessEventInstances"},o.a.createElement("div",{className:"BusinessEvents"},o.a.createElement("div",{className:"BusinessEvent-left-box"},o.a.createElement("div",{className:"BusinessEvent_Box"},o.a.createElement("div",{className:"Business-searchContainer"},o.a.createElement("div",{className:"Business-Event-search-header"},o.a.createElement(m.a,{placeholder:"Search by name",onChange:this.searchHandler,list:t[this.state.currentToggler],value:this.state.searchBoxValue,className:"Business-EventListSearchBar",filterBy:["businessEventTemplateId","businessEvent"]})))),o.a.createElement("div",{className:"Business-EventListBox scroll"},a&&a.map((function(t,a){return o.a.createElement("div",{key:a,className:"Business-EventListDetails "+"".concat(e.state.selectedInstance.businessEventTemplateId===t.businessEventTemplateId?"activeInstance":""),onClick:function(a){return e.selectInstance(t)}},o.a.createElement("div",{className:"BusinessListName-Area"},o.a.createElement("div",{className:"BusinessListID"},t.businessEventTemplateId)),o.a.createElement("div",{className:"BusinessListNameandBaseBody"},o.a.createElement("div",{className:"BusinessListName"},o.a.createElement("div",null,t.businessEvent),o.a.createElement("div",{className:"BusinessListBaseBody"},t.eventDescription))),o.a.createElement("div",{className:"Business-Event-Transactional-button-Container"},o.a.createElement("div",{className:"Business-Event-Transactional-button-Area"},o.a.createElement(v.a,{className:"Business-Event-Transactional-button"},t.eventType))))}))))),o.a.createElement("div",{className:"Selection-panel scroll"},this.state.selectedInstance.businessEventTemplateId?o.a.createElement(G,{key:Math.random(),instanceData:this.state.selectedInstance,page:"EDIT"}):o.a.createElement(ne,null))))}}]),t}(o.a.Component)),ne=function(){return o.a.createElement("div",{className:"no-event"},o.a.createElement("div",null,o.a.createElement("img",{src:b.a})),"Select a \u201cActive Event Instances\u201d to view")};var ie={getBusinessEvent:u.a.getBusiness_Event_Template},le=Object(d.b)((function(e){return e.businesseventConfigReducer}),ie)(ae),ce=(a(185),function(e){function t(){var e,a;Object(n.a)(this,t);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).header={ActiveEventInstanceHeader:{Component:te,headerName:"Business Event Catlalog",buttonName:"Add Instance",navigateTo:"AddInstanceHeader",Icon:h.c},AddInstanceHeader:{headerName:"Business Event Catlalog",Component:le,buttonName:"View Instance",navigateTo:"ActiveEventInstanceHeader",Icon:h.b}},a.state={currentPage:a.header.ActiveEventInstanceHeader},a.navigate=function(e){Object.keys(a.header).forEach((function(t){if(e.target.innerText===a.header[t].buttonName){var n=a.header[t].navigateTo;a.setState({currentPage:a.header[n]})}}))},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.currentPage,t=(e.Icon,e.Component),a=(e.buttonName,e.headerName);return o.a.createElement("div",{className:"main business-event-page"},o.a.createElement("div",{className:"Events"},o.a.createElement("div",{className:"EventManagementHeader"},o.a.createElement("div",{className:"EventManagementwrap"},o.a.createElement("div",{className:"EventManagementText"},a),o.a.createElement("div",{className:"Event-header-right-content"})))),o.a.createElement("div",{className:"config-container"},o.a.createElement(t,null)))}}]),t}(r.Component));t.default=ce}}]);
//# sourceMappingURL=8.f5ceea25.chunk.js.map