(this["webpackJsonpdata-maintenance"]=this["webpackJsonpdata-maintenance"]||[]).push([[9],{173:function(e,t,a){"use strict";var n=a(24),i=a(25),s=a(31),r=a(29),c=a(30),l=a(1),o=a.n(l),u=(a(181),a(48)),m=a(174),p=function(e){function t(){var e,a;Object(n.a)(this,t);for(var i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(r.a)(t)).call.apply(e,[this].concat(c)))).state={},a.callback=function(e,t){a.setState({}),a.props.onClick(e,t)},a.headerComponent=function(e){return o.a.createElement("div",{className:"heading"},o.a.createElement("label",{className:"tab-label"},e,o.a.createElement("span",null," ",o.a.createElement("span",{className:"minus"},o.a.createElement(u.b,null)),o.a.createElement("span",{className:"add"},o.a.createElement(u.a,null)))))},a.contentComponent=function(e){return o.a.createElement("div",{className:"tab-content"},e)},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return this.props.menuList.map((function(t,a){return o.a.createElement("div",{className:"row",key:e.props.isSingleOpen?Math.random()*a:a},o.a.createElement("div",{className:"tabs"},o.a.createElement("div",{className:"tab"},o.a.createElement(m.a,Object.assign({sliderStatus:function(a){return e.callback(t,a)},open:!!t.isOpen,header:e.headerComponent(t.title),content:e.contentComponent(o.a.createElement(t.data,null))},e.props)))))}))}}]),t}(o.a.Component);p.defaultProps={onClick:function(){},isSingleOpen:!1},t.a=p},181:function(e,t,a){},184:function(e,t,a){},186:function(e,t,a){"use strict";var n=a(24),i=a(25),s=a(31),r=a(29),c=a(30),l=a(1),o=a.n(l),u=(a(191),"left ".concat(200,"ms, right ").concat(200,"ms")),m=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(r.a)(t).call(this,e))).state={sizes:{}},a.els={},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getSizes()}},{key:"componentDidUpdate",value:function(e){e.children!==this.props.children&&e.active!==this.props.active&&this.getSizes()}},{key:"getSizes",value:function(){var e=this,t=this.root.getBoundingClientRect(),a={};return Object.keys(this.els).forEach((function(n){var i=e.els[n].getBoundingClientRect(),s=i.left-t.left,r=t.right-i.right;a[n]={left:s,right:r}})),this.setState({sizes:a}),a}},{key:"render",value:function(){var e=this;return console.log(JSON.stringify(this.state,null,2)),o.a.createElement("div",{className:"Tabs",ref:function(t){return e.root=t}},o.a.Children.map(this.props.children,(function(t,a){var n="Tabs__Tab ";return t.key===e.props.active&&(n="".concat(n," Tabs__Tab--active")),o.a.createElement("div",{className:n,onClick:function(){e.props.onChange(t.key)},ref:function(a){return e.els[t.key]=a}},t)})),o.a.createElement("div",{className:"Tabs__Underline",style:this.getUnderlineStyle()}))}},{key:"getUnderlineStyle",value:function(){if(null==this.props.active||0===Object.keys(this.state.sizes).length)return{left:"0",right:"100%"};var e=this.state.sizes[this.props.active];return{left:"".concat(e.left,"px"),right:"".concat(e.right,"px"),transition:u}}}]),t}(o.a.Component);t.a=m},190:function(e,t,a){"use strict";var n=a(182),i=a(24),s=a(25),r=a(31),c=a(29),l=a(57),o=a(30),u=a(1),m=a.n(u),p=a(193),d=a(194),v=a(196);a(195),u.Component;a.d(t,"a",(function(){return n.a}))},191:function(e,t,a){},207:function(e,t,a){"use strict";var n=a(36),i=a(24),s=a(25),r=a(31),c=a(29),l=a(30),o=a(1),u=a.n(o),m=(a(184),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(r.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).onClick=function(){var e=a.props,t=e.label;(0,e.onClick)(t)},a}return Object(l.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.onClick,t=this.props,a=t.activeTab,n=t.label,i="tab-list-item "+this.props.className;return a===n&&(i+=" tab-list-active"),u.a.createElement("li",{className:i,onClick:e},n)}}]),t}(o.Component)),p=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).onClickTabItem=function(e){a.setState({activeTab:e})},console.log(a.props),a.state={activeTab:a.props.children[0]&&a.props.children[0].props.label},a}return Object(l.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.onClickTabItem,t=this.props.children,a=this.state.activeTab;return console.log(this.props.children,"children"),u.a.createElement("div",{className:"tabs"},u.a.createElement("ul",{className:"tab-list"},t.map((function(t){var n=t.props,i=n.label,s=n.className;return u.a.createElement(m,{activeTab:a,key:i,label:i,onClick:e,className:s})}))),u.a.createElement("div",null,t.map((function(e){if(e.props.label===a)return e}))))}}]),t}(o.Component),d=a(186),v=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(r.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={tab:a.props.tabData},a}return Object(l.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return u.a.createElement(p,null,this.state.tab.map((function(t,a){return u.a.createElement("div",{key:a,label:t.label,className:e.props.className},u.a.createElement(d.a,{active:t.active,className:e.props.className,onChange:function(a){var i=Object(n.a)(e.state.tab);e.state.tab.forEach((function(e,n){e.label===t.label&&(i[n].active=a)})),e.setState({tab:i})}},t.childtab.map((function(e){return u.a.createElement("div",{key:e},e)}))),u.a.createElement(t.Component,{key:Math.random(),tabData:t,_props:e.props}))})))}}]),t}(o.Component);v.defaultProps={className:"",tabData:[]};t.a=v},209:function(e,t,a){},212:function(e,t,a){},243:function(e,t,a){},245:function(e,t,a){},246:function(e,t,a){},307:function(e,t,a){},308:function(e,t,a){},310:function(e,t,a){},333:function(e,t,a){"use strict";a.r(t);var n=a(55),i=a(24),s=a(25),r=a(31),c=a(29),l=a(30),o=a(1),u=a.n(o),m=a(208),p=a.n(m),d=(a(243),a(53)),v=a(186),b=a(60),E=a(32),h=a(81),g=a.n(h),f=a(176),N=(a(209),a(9)),S=a(36),C=a(54),y=a(173),O=a(57),I=(a(245),a(38)),D=a.n(I),j=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).state={height:0},a.clearTimer=0,a}return Object(l.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.clearTimer=window.setTimeout((function(){var t=e&&D.a.findDOMNode(e);if(t&&t.querySelector(".panel__inner")){var a=t.querySelector(".panel__inner").scrollHeight;e.setState({height:a})}}),333)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.clearTimer)}},{key:"render",value:function(){var e=this.props,t=e.title,a=e.data,n=e.activeTab,i=e.index,s=e.activateTab,r=a,c=this.state.height,l=n===i,o={height:"".concat(l?c:0,"px")};return u.a.createElement("div",{className:"panel",role:"tabpanel","aria-expanded":l},u.a.createElement("button",{className:"panel__label",role:"tab",onClick:s},t),u.a.createElement("div",{className:"panel__inner",style:o,"aria-hidden":!l},u.a.createElement("p",{className:"panel__content"},u.a.createElement(r,null))))}}]),t}(u.a.Component);(function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).state={activeTab:e.activateTab},a.activateTab=a.activateTab.bind(Object(O.a)(a)),a}return Object(l.a)(t,e),Object(s.a)(t,[{key:"activateTab",value:function(e){this.setState((function(t){return{activeTab:t.activeTab===e?-1:e}}))}},{key:"render",value:function(){var e=this,t=this.props.menuList,a=this.state.activeTab;return u.a.createElement("div",{className:"accordion",role:"tablist"},t.map((function(t,n){return u.a.createElement(j,Object.assign({key:n,activeTab:a,index:n},t,{activateTab:e.activateTab.bind(null,n)}))})))}}]),t}(u.a.Component)).defaultProps={activateTab:0};var k=a(10),T=a(8),x=a(174),L=(a(212),a(177)),w=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(r.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).signals=[u.a.createElement("div",{className:"signal",onClick:function(){a.props.callback(Object(N.a)({},a.props.data,{isEnterpriseSelectedSignal:!0,selectedSignalName:"ON"}))}},"ON"),u.a.createElement("div",{className:"signal",onClick:function(){a.props.callback(Object(N.a)({},a.props.data,{isEnterpriseSelectedSignal:!0,selectedSignalName:"OFF"}))}},"OFF")],a.menuList=[],a.generateList=function(){k.b.get(T.default.EnterpriceConfig.SignalDetails+a.props.data.enterpriseId+"/signal").then((function(e){if(console.log(e,a.props,"respo data"),e&&e.data&&Array.isArray(e.data)){Object(o.createRef)();var t=a.props.data.active&&a.props.data.active.toLowerCase();a.signals=e.data.map((function(e){return e.signalDomain.toLowerCase()===t?u.a.createElement("div",{className:"signal",onClick:function(){a.props.callback(Object(N.a)({},a.props.data,{isEnterpriseSelectedSignal:!0,selectedSignalName:e.signalName}))}},e.signalName," ",e.selected&&u.a.createElement("span",null,u.a.createElement(L.a,null))):null}))}a.menuList=[{title:a.props.data.enterpriseId,isOpen:!0,data:function(){return a.signals}}],a.setState({})}))},a}return Object(l.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.generateList()}},{key:"render",value:function(){return u.a.createElement(y.a,{className:"mapping-signal",menuList:this.menuList})}}]),t}(o.Component),A=function(e){var t=e.Criteria,a=void 0===t?[]:t,n=e.callback,i=void 0===n?function(){}:n,s=(e.CriteriaName,e.isEditPage),r=e.InteractionComponent,c=void 0===r?function(){return null}:r,l=e.InteractionComponentData,o=void 0===l?"":l,m=e.label,p=void 0===m?"":m,d=e.eventType,v=void 0===d?"":d,b=(e.enterpriseId,0),E=v.toLowerCase(),h=new Map;h.set("transactional",["scheduling","reinitiate"]),h.set("stateless",["exitcriteria"]),h.set("temporal",[]),h.set("passthrough",["exitcriteria"]),h.set("stateful",[]);var g=!h.get(E)||!h.get(E).includes(p),f=!1,S=!1,O=a.map((function(t,a){var n=t.domain&&t.domain.toLowerCase()||"";t.isBESignalSelected&&(S=!0),"flight"===n&&g&&b++;var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(s){if(e.length>50)return"... ".concat(e.slice(-50))}else if(e.length>100)return"... ".concat(e.slice(-100));return e},c=!1;return"Schedule"===p&&t.iaoSignalName&&Object.keys(t.metadata).forEach((function(e){e===o.scheduleKey&&(c=!0)})),"Schedule"!==p&&(t.selected&&t.selected.length&&(f=!0),f&&(c=!0)),"flight"===n&&u.a.createElement("div",{key:a},u.a.createElement("div",{className:"event-signals scroll"},u.a.createElement(y.a,{onClick:function(a,n){return function(t,a){var n=t.iaoSignalName;a&&(S=!0,f=!1,i(Object(N.a)({},e,{isUpdateForSignal:!0,currentSignal:n})))}(t,n)},menuList:[{title:u.a.createElement("div",null,u.a.createElement("div",null,t.iaoSignalName),t.namedSignal&&u.a.createElement("div",{className:"selected-signal"},s?"Selected":"Mapped Enterprise"," ","Signal: ",t.namedSignal)),isOpen:c,data:function(){return u.a.createElement("div",{className:"signal-attribute ",style:{position:"relative"}},Object(t.metadata)===t.metadata&&Object.keys(t.metadata).map((function(a,c){if("Schedule"===p){var l=o&&o.scheduleKey||"";return u.a.createElement("div",{"data-tip":"React-tooltip",key:c,onClick:function(){var t={scheduleKey:"",snoozesTimeValueMins:0,snoozesTimeIncrementValueMins:0,operator:"ADD"};l&&a===o.scheduleKey&&(t=Object(N.a)({},t,{},o)),t.scheduleKey=a,o.scheduleKey=a,i(Object(N.a)({},e,{InteractionComponentData:t}))},className:a===l?"active":""},u.a.createElement("h3",null,a),u.a.createElement("p",null,r(t.metadata[a])))}return u.a.createElement("div",{"data-tip":"React-tooltip",key:c,onClick:function(){i(Object(N.a)({},e,{domain:n,signal:t.iaoSignalName,meta:a,makeUpdateFromParent:!0}))},className:t.selected&&s&&t.selected.includes(a)?"active":""},u.a.createElement("h3",null,a),u.a.createElement("p",null,r(t.metadata[a])))})))}}]})))}));return 0===b?u.a.createElement("div",{style:Object(C.a)({color:"rgb(75, 80, 195)",padding:"20px",display:"flex",justifyContent:"center",boxShadow:"grey 3px 0px 10px -5px",marginTop:"10px",marginBottom:"6px",borderRadius:"14px"},"boxShadow","0 0 4px 0px gray")},"Not configurable or no data available"):u.a.createElement("div",{className:"scroll config"},u.a.createElement("div",{className:"update-event-config scroll",style:s?{}:{flex:1}}," ",O),s&&u.a.createElement("div",{className:"event-signal-value scroll"},"Schedule"===p&&u.a.createElement(c,{callback:i,data:e}),"Schedule"!==p&&f&&u.a.createElement(c,{callback:i,data:e}),"Schedule"!==p&&S&&u.a.createElement(w,{callback:i,data:e})),!s&&"Schedule"===p&&u.a.createElement("div",{className:"event-signal-value"},u.a.createElement(c,{callback:i,data:e})))},M=function(e){var t=e.Criteria,a=void 0===t?[]:t,n=e.callback,i=void 0===n?function(){}:n,s=(e.CriteriaName,e.isEditPage),r=e.InteractionComponent,c=void 0===r?function(){return null}:r,l=e.InteractionComponentData,o=void 0===l?"":l,m=e.label,p=void 0===m?"":m,d=e.eventType,v=void 0===d?"":d,b=(e.enterpriseId,0),E=v.toLowerCase(),h=new Map;h.set("transactional",["scheduling","reinitiate"]),h.set("stateless",["exitcriteria"]),h.set("temporal",[]),h.set("passthrough",["exitcriteria"]),h.set("stateful",[]);var g=!h.get(E)||!h.get(E).includes(p),f=!1,S=!1,O=a.map((function(t,a){var n=t.domain&&t.domain.toLowerCase()||"";t.isBESignalSelected&&(S=!0),"pax"===n&&g&&b++;var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(s){if(e.length>50)return"... ".concat(e.slice(-50))}else if(e.length>100)return"... ".concat(e.slice(-100));return e},c=!1;return"Schedule"===p&&t.iaoSignalName&&Object.keys(t.metadata).forEach((function(e){e===o.scheduleKey&&(c=!0)})),"Schedule"!==p&&(t.selected&&t.selected.length&&(f=!0),f&&(c=!0)),"pax"===n&&u.a.createElement("div",{key:a},u.a.createElement("div",{className:"event-signals scroll"},u.a.createElement(y.a,{onClick:function(a,n){return function(t,a){var n=t.iaoSignalName;a&&(S=!0,f=!1,i(Object(N.a)({},e,{isUpdateForSignal:!0,currentSignal:n})))}(t,n)},menuList:[{title:u.a.createElement("div",null,u.a.createElement("div",null,t.iaoSignalName),t.namedSignal&&u.a.createElement("div",{className:"selected-signal"},s?"Selected":"Mapped Enterprise"," ","Signal: ",t.namedSignal)),isOpen:c,data:function(){return u.a.createElement("div",{className:"signal-attribute ",style:{position:"relative"}},Object(t.metadata)===t.metadata&&Object.keys(t.metadata).map((function(a,c){if("Schedule"===p){var l=o&&o.scheduleKey||"";return u.a.createElement("div",{"data-tip":"React-tooltip",key:c,onClick:function(){var t={scheduleKey:"",snoozesTimeValueMins:0,snoozesTimeIncrementValueMins:0,operator:"ADD"};l&&a===o.scheduleKey&&(t=Object(N.a)({},t,{},o)),t.scheduleKey=a,o.scheduleKey=a,i(Object(N.a)({},e,{InteractionComponentData:t}))},className:a===l?"active":""},u.a.createElement("h3",null,a),u.a.createElement("p",null,r(t.metadata[a])))}return u.a.createElement("div",{"data-tip":"React-tooltip",key:c,onClick:function(){i(Object(N.a)({},e,{domain:n,signal:t.iaoSignalName,meta:a,makeUpdateFromParent:!0}))},className:t.selected&&s&&t.selected.includes(a)?"active":""},u.a.createElement("h3",null,a),u.a.createElement("p",null,r(t.metadata[a])))})))}}]})))}));return 0===b?u.a.createElement("div",{style:Object(C.a)({color:"rgb(75, 80, 195)",padding:"20px",display:"flex",justifyContent:"center",boxShadow:"grey 3px 0px 10px -5px",marginTop:"10px",marginBottom:"6px",borderRadius:"14px"},"boxShadow","0 0 4px 0px gray")},"Not configurable or no data available"):u.a.createElement("div",{className:"scroll config"},u.a.createElement("div",{className:"update-event-config scroll",style:s?{}:{flex:1}}," ",O),s&&u.a.createElement("div",{className:"event-signal-value scroll"},"Schedule"===p&&u.a.createElement(c,{callback:i,data:e}),"Schedule"!==p&&f&&u.a.createElement(c,{callback:i,data:e}),"Schedule"!==p&&S&&u.a.createElement(w,{callback:i,data:e})),!s&&"Schedule"===p&&u.a.createElement("div",{className:"event-signal-value"},u.a.createElement(c,{callback:i,data:e})))},B=function(e){var t=e.Criteria,a=void 0===t?[]:t,n=e.callback,i=void 0===n?function(){}:n,s=(e.CriteriaName,e.isEditPage),r=e.InteractionComponent,c=void 0===r?function(){return null}:r,l=e.InteractionComponentData,o=void 0===l?"":l,m=e.label,p=void 0===m?"":m,d=e.eventType,v=void 0===d?"":d,b=(e.enterpriseId,0),E=v.toLowerCase(),h=new Map;h.set("transactional",["scheduling","reinitiate"]),h.set("stateless",["exitcriteria"]),h.set("temporal",[]),h.set("passthrough",["exitcriteria"]),h.set("stateful",[]);var g=!h.get(E)||!h.get(E).includes(p),f=!1,S=!1,O=a.map((function(t,a){var n=t.domain&&t.domain.toLowerCase()||"";t.isBESignalSelected&&(S=!0),"crew"===n&&g&&b++;var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(s){if(e.length>50)return"... ".concat(e.slice(-50))}else if(e.length>100)return"... ".concat(e.slice(-100));return e},c=!1;return"Schedule"===p&&t.iaoSignalName&&Object.keys(t.metadata).forEach((function(e){e===o.scheduleKey&&(c=!0)})),"Schedule"!==p&&(t.selected&&t.selected.length&&(f=!0),f&&(c=!0)),"crew"===n&&u.a.createElement("div",{key:a},u.a.createElement("div",{className:"event-signals scroll"},u.a.createElement(y.a,{onClick:function(a,n){return function(t,a){var n=t.iaoSignalName;a&&(S=!0,f=!1,i(Object(N.a)({},e,{isUpdateForSignal:!0,currentSignal:n})))}(t,n)},menuList:[{title:u.a.createElement("div",null,u.a.createElement("div",null,t.iaoSignalName),t.namedSignal&&u.a.createElement("div",{className:"selected-signal"},s?"Selected":"Mapped Enterprise"," ","Signal: ",t.namedSignal)),isOpen:c,data:function(){return u.a.createElement("div",{className:"signal-attribute ",style:{position:"relative"}},Object(t.metadata)===t.metadata&&Object.keys(t.metadata).map((function(a,c){if("Schedule"===p){var l=o&&o.scheduleKey||"";return u.a.createElement("div",{"data-tip":"React-tooltip",key:c,onClick:function(){var t={scheduleKey:"",snoozesTimeValueMins:0,snoozesTimeIncrementValueMins:0,operator:"ADD"};l&&a===o.scheduleKey&&(t=Object(N.a)({},t,{},o)),t.scheduleKey=a,o.scheduleKey=a,i(Object(N.a)({},e,{InteractionComponentData:t}))},className:a===l?"active":""},u.a.createElement("h3",null,a),u.a.createElement("p",null,r(t.metadata[a])))}return u.a.createElement("div",{"data-tip":"React-tooltip",key:c,onClick:function(){i(Object(N.a)({},e,{domain:n,signal:t.iaoSignalName,meta:a,makeUpdateFromParent:!0}))},className:t.selected&&s&&t.selected.includes(a)?"active":""},u.a.createElement("h3",null,a),u.a.createElement("p",null,r(t.metadata[a])))})))}}]})))}));return 0===b?u.a.createElement("div",{style:Object(C.a)({color:"rgb(75, 80, 195)",padding:"20px",display:"flex",justifyContent:"center",boxShadow:"grey 3px 0px 10px -5px",marginTop:"10px",marginBottom:"6px",borderRadius:"14px"},"boxShadow","0 0 4px 0px gray")},"Not configurable or no data available"):u.a.createElement("div",{className:"scroll config"},u.a.createElement("div",{className:"update-event-config scroll",style:s?{}:{flex:1}}," ",O),s&&u.a.createElement("div",{className:"event-signal-value scroll"},"Schedule"===p&&u.a.createElement(c,{callback:i,data:e}),"Schedule"!==p&&f&&u.a.createElement(c,{callback:i,data:e}),"Schedule"!==p&&S&&u.a.createElement(w,{callback:i,data:e})),!s&&"Schedule"===p&&u.a.createElement("div",{className:"event-signal-value"},u.a.createElement(c,{callback:i,data:e})))},P=function(e){var t=e.Criteria,a=void 0===t?[]:t,n=e.callback,i=void 0===n?function(){}:n,s=(e.CriteriaName,e.isEditPage),r=e.InteractionComponent,c=void 0===r?function(){return null}:r,l=e.InteractionComponentData,o=void 0===l?"":l,m=e.label,p=void 0===m?"":m,d=e.eventType,v=void 0===d?"":d,b=(e.enterpriseId,0),E=v.toLowerCase(),h=new Map;h.set("transactional",["scheduling","reinitiate"]),h.set("stateless",["exitcriteria"]),h.set("temporal",[]),h.set("passthrough",["exitcriteria"]),h.set("stateful",[]);var g=!h.get(E)||!h.get(E).includes(p),f=!1,S=!1,O=a.map((function(t,a){var n=t.domain&&t.domain.toLowerCase()||"";t.isBESignalSelected&&(S=!0),"engg"===n&&g&&b++;var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(s){if(e.length>50)return"... ".concat(e.slice(-50))}else if(e.length>100)return"... ".concat(e.slice(-100));return e},c=!1;return"Schedule"===p&&t.iaoSignalName&&Object.keys(t.metadata).forEach((function(e){e===o.scheduleKey&&(c=!0)})),"Schedule"!==p&&(t.selected&&t.selected.length&&(f=!0),f&&(c=!0)),"engg"===n&&u.a.createElement("div",{key:a},u.a.createElement("div",{className:"event-signals scroll"},u.a.createElement(y.a,{onClick:function(a,n){return function(t,a){var n=t.iaoSignalName;a&&(S=!0,f=!1,i(Object(N.a)({},e,{isUpdateForSignal:!0,currentSignal:n})))}(t,n)},menuList:[{title:u.a.createElement("div",null,u.a.createElement("div",null,t.iaoSignalName),t.namedSignal&&u.a.createElement("div",{className:"selected-signal"},s?"Selected":"Mapped Enterprise"," ","Signal: ",t.namedSignal)),isOpen:c,data:function(){return u.a.createElement("div",{className:"signal-attribute ",style:{position:"relative"}},Object(t.metadata)===t.metadata&&Object.keys(t.metadata).map((function(a,c){if("Schedule"===p){var l=o&&o.scheduleKey||"";return u.a.createElement("div",{"data-tip":"React-tooltip",key:c,onClick:function(){var t={scheduleKey:"",snoozesTimeValueMins:0,snoozesTimeIncrementValueMins:0,operator:"ADD"};l&&a===o.scheduleKey&&(t=Object(N.a)({},t,{},o)),t.scheduleKey=a,o.scheduleKey=a,i(Object(N.a)({},e,{InteractionComponentData:t}))},className:a===l?"active":""},u.a.createElement("h3",null,a),u.a.createElement("p",null,r(t.metadata[a])))}return u.a.createElement("div",{"data-tip":"React-tooltip",key:c,onClick:function(){i(Object(N.a)({},e,{domain:n,signal:t.iaoSignalName,meta:a,makeUpdateFromParent:!0}))},className:t.selected&&s&&t.selected.includes(a)?"active":""},u.a.createElement("h3",null,a),u.a.createElement("p",null,r(t.metadata[a])))})))}}]})))}));return 0===b?u.a.createElement("div",{style:Object(C.a)({color:"rgb(75, 80, 195)",padding:"20px",display:"flex",justifyContent:"center",boxShadow:"grey 3px 0px 10px -5px",marginTop:"10px",marginBottom:"6px",borderRadius:"14px"},"boxShadow","0 0 4px 0px gray")},"Not configurable or no data available"):u.a.createElement("div",{className:"scroll config"},u.a.createElement("div",{className:"update-event-config scroll",style:s?{}:{flex:1}}," ",O),s&&u.a.createElement("div",{className:"event-signal-value scroll"},"Schedule"===p&&u.a.createElement(c,{callback:i,data:e}),"Schedule"!==p&&f&&u.a.createElement(c,{callback:i,data:e}),"Schedule"!==p&&S&&u.a.createElement(w,{callback:i,data:e})),!s&&"Schedule"===p&&u.a.createElement("div",{className:"event-signal-value"},u.a.createElement(c,{callback:i,data:e})))},F=a(190),V=a(172),H=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(r.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={snoozeTime:a.props.data.InteractionComponentData.snoozesTimeValueMins||0,IncrementValue:a.props.data.InteractionComponentData.snoozesTimeIncrementValueMins||0,list:[{title:"ADD",selected:!0},{title:"SUBTRACT",selected:!1}],title:a.props.data.InteractionComponentData.operator,data:a.props.data.InteractionComponentData},a.changeInput=function(e,t){if(a.props.data.isEditPage){var n=e.target.value;/^\d*$/.test(n)&&a.setState(Object(C.a)({},t,n),(function(){a.props.callback(Object(N.a)({},a.props.data,{},a.createInteractionComponentData()))}))}},a.createInteractionComponentData=function(){var e="";a.state.list.forEach((function(t){t.selected&&(e=t.title)}));var t=a.props.data.InteractionComponentData;return t.snoozesTimeValueMins=a.state.snoozeTime,t.snoozesTimeIncrementValueMins=a.state.IncrementValue,t.operator=e,t},a.changeOperator=function(e){if(a.props.data.isEditPage){var t=a.state.list;t.forEach((function(t){t.selected=!1,t.title===e.title&&((t=e).selected=!0)})),a.setState({list:t},(function(){a.props.callback(Object(N.a)({},a.props.data,{},a.createInteractionComponentData()))}))}},a}return Object(l.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return Object.keys(this.props.data.InteractionComponentData).length?u.a.createElement("div",{className:"Scheduling"},u.a.createElement("div",{className:"scheduling-condition"},u.a.createElement("div",{className:"condition"},"Condition "),u.a.createElement("div",{className:"Operator"},u.a.createElement("div",{className:"Operator-title"},"Operator"),u.a.createElement(F.a,{dropdownDisable:!this.props.data.isEditPage,title:this.props.data.InteractionComponentData.operator,list:this.state.list,toggleItem:this.changeOperator})),u.a.createElement("div",{className:"schedule-time"},u.a.createElement("div",{className:"snooze"},u.a.createElement("div",{className:"snooze-title"},"Snooze time"),u.a.createElement("div",{className:"scheduletimeinput"},u.a.createElement(V.a,{value:this.state.snoozeTime,type:"text",onChange:function(t){return e.changeInput(t,"snoozeTime")}}),u.a.createElement("span",{className:"minute"},"Min"))),u.a.createElement("div",{className:"incremental"},u.a.createElement("div",{className:"incremental-title"},"Incremental Value"),u.a.createElement("div",{className:"scheduletimeinput"},u.a.createElement(V.a,{value:this.state.IncrementValue,type:"text",onChange:function(t){return e.changeInput(t,"IncrementValue")}}),u.a.createElement("span",{className:"minute"},"Min")))))):null}}]),t}(o.Component),R=a(214),z=a.n(R),G=(a(213),a(246),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).togglerchange=function(e){a.setState((function(t){return{value:e}}),(function(){a.props.onoffstatus&&"function"==typeof a.props.onoffstatus&&a.props.onoffstatus(a.state.value)}))},a.state={value:a.props.value},a}return Object(l.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"Toggle "+this.props.DataToggle},u.a.createElement("div",{className:this.props.value===this.props.content[0]?"Toggler togglerchange":"Toggler",onClick:function(){return e.togglerchange(e.props.content[0])}},this.props.content[0]),u.a.createElement("div",{className:this.props.value===this.props.content[1]?"Toggler togglerchange":"Toggler",onClick:function(){return e.togglerchange(e.props.content[1])}},this.props.content[1]))}}]),t}(u.a.Component));G.defaultProps={content:["YES","NO"]};var U=a(41),_=a(175),K=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(r.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).sampleSubscription={subscriptionDetails:{subscriberGroup:"",subscriptionInfo:{subscriptionStartDt:new Date,subscriptionEndDt:new Date,subscriptionDeactivate:""}}},a.currentSelection={},a.state={selectedSubscriber:{},InteractionComponentData:a.props.InteractionComponentData},a.visibleSubscription=function(e){var t=a.state.InteractionComponentData||[],n=!0;t.forEach((function(t){t.subscriptionDetails.subscriberGroup===e.subscriberName&&(n=!1,a.currentSelection=t)}));var i=JSON.parse(JSON.stringify(a.sampleSubscription));n&&(i.subscriptionDetails.subscriberGroup=e.subscriberName,t.push(i),a.currentSelection=i),a.setState({selectedSubscriber:e,InteractionComponentData:t})},a.changeHandler=function(e,t){if(a.props.isEditPage){var n=a.currentSelection;if("toggle"===t&&n&&n.subscriptionDetails&&n.subscriptionDetails.subscriptionInfo&&n.subscriptionDetails.subscriptionInfo.subscriptionDeactivate&&(n.subscriptionDetails.subscriptionInfo.subscriptionDeactivate="ON"===e?"Y":"N"),"startdate"===t){var i=new Date(e).setHours(0,0,0,0);if(n&&n.subscriptionDetails&&n.subscriptionDetails.subscriptionInfo&&n.subscriptionDetails.subscriptionInfo.subscriptionEndDt){var s=new Date(n.subscriptionDetails.subscriptionInfo.subscriptionEndDt);s.setHours(0,0,0,0),console.log(i,s,"checkdate"),i>s?U.a.openAlert({title:"warning",text:"start date must be lesser than end date"}):n.subscriptionDetails.subscriptionInfo.subscriptionStartDt=e}}if("enddate"===t&&n&&n.subscriptionDetails&&n.subscriptionDetails.subscriptionInfo&&n.subscriptionDetails.subscriptionInfo.subscriptionStartDt){var r=new Date(n.subscriptionDetails.subscriptionInfo.subscriptionStartDt);r.setHours(0,0,0,0),e<r?U.a.openAlert({title:"warning",text:"end date must be greater than start date"}):n.subscriptionDetails.subscriptionInfo.subscriptionEndDt=e}var c=a.state.InteractionComponentData.map((function(e){return console.log(e.subscriptionDetails,n.subscriptionDetails,"checkSubsc"),e.subscriptionDetails.subscriberGroup===n.subscriptionDetails.subscriberGroup?n:e}));console.log(c,"intcompdatass"),a.setState({},(function(){a.props.callback&&a.props.callback(Object(N.a)({},a.props,{InteractionComponentData:c}))}))}},a}return Object(l.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=(this.props.Criteria,this.currentSelection),a=t&&t.subscriptionDetails&&t.subscriptionDetails.subscriptionInfo&&t.subscriptionDetails.subscriptionInfo.subscriptionStartDt||new Date,n=t&&t.subscriptionDetails&&t.subscriptionDetails.subscriptionInfo&&t.subscriptionDetails.subscriptionInfo.subscriptionEndDt||new Date,i=t&&t.subscriptionDetails&&t.subscriptionDetails.subscriptionInfo&&t.subscriptionDetails.subscriptionInfo.subscriptionDeactivate||"",s=Array.isArray(this.props.AllSubscriptionList)?this.props.AllSubscriptionList:[];return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"subscription-config"},u.a.createElement("div",{className:"subscription-list "},s.map((function(t){var a=t&&t.subscriberName||"";return u.a.createElement("div",{className:"subscription-group ".concat(e.state.selectedSubscriber.subscriberName===t.subscriberName?"activeInstance":""),onClick:function(){return e.visibleSubscription(t)}},a)}))),u.a.createElement("div",{className:"subscription-period-container"},this.state.selectedSubscriber.subscriberName&&u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"Subscription-period"},"Subscription period"),u.a.createElement("div",{className:"start"},u.a.createElement("div",{className:"title"},"Start Date"),u.a.createElement("div",{className:"date-picker-parent"},u.a.createElement(z.a,{selected:new Date(a),onChange:function(t){e.changeHandler(t,"startdate")},dateFormat:"dd MMM yyyy",className:"date-picker"}),u.a.createElement("div",{className:"calendar-icon"},u.a.createElement(_.a,null)))),u.a.createElement("div",{className:"end"},u.a.createElement("div",{className:"title"},"Start Date"),u.a.createElement("div",{className:"date-picker-parent"},u.a.createElement(z.a,{selected:new Date(n),onChange:function(t){e.changeHandler(t,"enddate")},dateFormat:"dd MMM yyyy",className:"date-picker"}),u.a.createElement("div",{className:"calendar-icon"},u.a.createElement(_.a,null)))),u.a.createElement("div",{className:"enable-subscription"},u.a.createElement("div",{className:"title"},"Subscription enabled"),u.a.createElement("div",{className:"toggle-subscription"},u.a.createElement(G,{value:"N"==i?"OFF":"ON",onoffstatus:function(t){e.changeHandler(t,"toggle")},content:["ON","OFF"],className:"toggle-button"})))))))}}]),t}(o.Component),J=(a(307),a(48)),W=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(r.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={},a.activeElement=Object(o.createRef)(),a.timeout=0,a.mappingList={},a.scrollingToPosition=function(){var e=a.activeElement.current;e&&(a.timeout=setTimeout((function(){e.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}),900))},a.generateList=function(e,t){"object"===typeof e&&Object.keys(e).forEach((function(n){if("object"===typeof e[n])if(e[n].properties){var i=JSON.parse(JSON.stringify(e[n].properties));t[n]=i;var s=e.currentListPath?e.currentListPath+"."+n:n;t[n].currentListPath=s,a.generateList(i,t[n])}else if("object"===typeof e&&e[n]){t[n]=e[n];var r=e.currentListPath?e.currentListPath+"."+n:n;t[n].currentListPath=r,a.generateList(e[n],t[n])}}))},a.toggleCreation=function(e){var t=a.props.data.Criteria[0],n=t.selected[0],i=t.metadata[n];return"object"===typeof e?Object.keys(e).map((function(s,r){if("object"===typeof e[s]&&e.hasOwnProperty(s)){var c=a.toggleCreation(JSON.parse(JSON.stringify(e[s]))),l=e.currentListPath?e.currentListPath+"."+s:s;if(!c[0]){var o=i===l;return u.a.createElement("div",{key:r,className:"last-child-mapper",onClick:function(e){t.metadata[n]=l,a.props.callback&&a.props.callback(a.props.data)}},u.a.createElement("div",null,s,o&&u.a.createElement("div",{ref:a.activeElement,className:"mapping-tick"},u.a.createElement(L.a,null))))}var m=!!i.includes(l);return u.a.createElement("div",{className:"mappingslider"},u.a.createElement(x.a,{key:m?r:Math.random(),open:m,header:s,content:c,customToggler:{open:u.a.createElement(J.d,null),close:u.a.createElement(J.c,null)}}))}return null})):null},a}return Object(l.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.scrollingToPosition()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"componentDidUpdate",value:function(){this.scrollingToPosition()}},{key:"render",value:function(){var e,t=this.props.data.InteractionComponentData,a=t.allSignal,n=void 0===a?[]:a,i=t.selectedEnterpriseSignal;if(!i)return u.a.createElement("div",{className:"error-text-mapping"}," ","Please Select Enterprise Signal");if(n.forEach((function(t){t.signalName===i&&(e=t.signalContent)})),!e)return u.a.createElement("div",{className:"error-text-mapping"}," ","No Mapping File for this Signal"," ");var s=e&&e.sourcemessage&&e.sourcemessage.mappings&&e.sourcemessage.mappings.properties||{};return this.generateList(s,this.mappingList),u.a.createElement("div",{className:"mapping-parent"},this.toggleCreation(this.mappingList))}}]),t}(o.Component),X=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(r.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).removeSelection=function(){var e=a.props.instanceData;return["entryCriteria","exitCriteria","reinitiateCriteria"].forEach((function(t){if(e[t]){var a=Object(S.a)(e[t]);a=a.map((function(e){delete e.selected}))}})),e},a.state={instanceData:a.removeSelection()},a.ChooseTemplate=function(e){var t=e.active,n=null;return"flight"===t.toLowerCase()&&(n=u.a.createElement(A,e)),"pax"===t.toLowerCase()&&(n=u.a.createElement(M,e)),"crew"===t.toLowerCase()&&(n=u.a.createElement(B,e)),"bag"===t.toLowerCase()&&(n=u.a.createElement(B,e)),"engg"===t.toLowerCase()&&(n=u.a.createElement(P,e)),"ground"===t.toLowerCase()&&(n=u.a.createElement(P,e)),"Subscribe"===e.label&&(n=u.a.createElement(K,e)),n?u.a.createElement(u.a.Fragment,null,n,e.isEditPage&&u.a.createElement("div",{className:"save-container"},u.a.createElement(d.a,{onClick:function(){a.props.closeEdit()}},"cancel"),u.a.createElement(d.a,{onClick:function(){var e=JSON.parse(JSON.stringify(a.state.instanceData));e.mappingStatus="Active",["entryCriteria","exitCriteria","reinitiateCriteria"].forEach((function(t){if(e[t]){var a=Object(S.a)(e[t]);a=a.map((function(t){return t.metadata&&Object.keys(t.metadata).forEach((function(a){t.metadata[a]||(e.mappingStatus="Drafts")})),delete t.selected,delete t.isBESignalSelected,t})),e[t]=a}})),delete e.selectedIAOSignal,delete e.selectedEnterpriseSignal,e.enterpriseCode=a.props.enterpriseId,a.props.updateInstance(e),a.props.closeEdit()}},"save"))):null},a.selectedData=function(e){var t=Object(N.a)({},a.state.instanceData);"Schedule"===e.label&&Object.keys(e.InteractionComponentData).length&&(t.schedulingCondition=e.InteractionComponentData),"Subscribe"===e.label&&t.subscription&&(t.subscription=e.InteractionComponentData),"Subscribe"!==e.label&&"Schedule"!==e.label&&t[e.CriteriaName].forEach((function(a){if(e.isEnterpriseSelectedSignal?a.iaoSignalName===t.selectedIAOSignal&&(a.namedSignal=e.selectedSignalName,t.selectedEnterpriseSignal=e.selectedSignalName,a.isBESignalSelected=!0,a.selected=[]):e.isUpdateForSignal?a.iaoSignalName===e.currentSignal&&(a.isBESignalSelected=!0,t.selectedIAOSignal=e.currentSignal,a.selected=[]):a.isBESignalSelected=!1,a.domain.toLowerCase()===e.domain&&a.iaoSignalName===e.signal){var n=a.metadata;n&&"object"===typeof n&&Object.keys(n).forEach((function(n){n===e.meta&&(a.selected=[],t.selectedEnterpriseSignal=a.namedSignal,a.selected.push(e.meta))}))}})),a.setState({instanceData:t})},a}return Object(l.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.instanceData,t=e.entryCriteria,a=void 0===t?[]:t,n=e.exitCriteria,i=void 0===n?[]:n,s=e.reinitiateCriteria,r=void 0===s?[]:s,c=e.schedulingCondition,l=void 0===c?{}:c,o=e.subscription,u=void 0===o?[]:o,m=e.eventType,p=void 0===m?"":m,d=(e.selectedIAOSignal,e.selectedEnterpriseSignal),v=this.props.tabData,b=v.label,E=v.active,h=void 0===E?"":E,g=this.props.enterpriseId,f=this.props._props.isEditPage,S={eventType:p,active:h,callback:this.props._props.isEditPage?this.selectedData:function(){},isEditPage:f,label:b,enterpriseId:g};return"Entry"===b?this.ChooseTemplate(Object(N.a)({},S,{Criteria:a,InteractionComponent:W,InteractionComponentData:{allSignal:this.props.enterpriseSignal,selectedEnterpriseSignal:d},CriteriaName:"entryCriteria"})):"Exit"===b?this.ChooseTemplate(Object(N.a)({},S,{InteractionComponent:W,InteractionComponentData:{allSignal:this.props.enterpriseSignal,selectedEnterpriseSignal:d},Criteria:i,CriteriaName:"exitCriteria"})):"Reinstate"===b?this.ChooseTemplate(Object(N.a)({},S,{InteractionComponent:W,InteractionComponentData:{allSignal:this.props.enterpriseSignal,selectedEnterpriseSignal:d},enterpriseList:this.props.EnterpriseDetails,Criteria:r,CriteriaName:"reinitiateCriteria"})):"Schedule"===b?this.ChooseTemplate(Object(N.a)({},S,{Criteria:a,InteractionComponent:H,InteractionComponentData:l,CriteriaName:"entryCriteria"})):"Subscribe"===b?this.ChooseTemplate(Object(N.a)({},S,{InteractionComponentData:u,AllSubscriptionList:this.props.SubscriberDetails,CriteriaName:"Subscribe"})):null}}]),t}(o.Component),Y={updateInstance:b.a.updateInstance,getEvent_Template:b.a.getEvent_Template},q=Object(E.b)((function(e){return{mappingData:e.eventConfigReducer.mappingData}}),Y)(X),$=a(207),Q=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(r.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={instanceData:JSON.parse(JSON.stringify(a.props.instanceData))},a.updateState=function(e){return a.setState({instanceData:e})},a.tabList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[{label:"Entry",childtab:["FLIGHT","PAX","CREW","BAG","ENGG","GROUND"],active:"FLIGHT",Component:function(t){return u.a.createElement(q,Object.assign({instanceData:e,updateState:a.updateState},t,a.props))}},{label:"Exit",childtab:["FLIGHT","PAX","CREW","BAG","ENGG","GROUND"],active:"FLIGHT",Component:function(t){return u.a.createElement(q,Object.assign({instanceData:e,updateState:a.updateState},t,a.props))}},{label:"Reinstate",childtab:["FLIGHT","PAX","CREW","BAG","ENGG","GROUND"],active:"FLIGHT",Component:function(t){return u.a.createElement(q,Object.assign({instanceData:e,updateState:a.updateState},t,a.props))}},{label:"Schedule",childtab:["FLIGHT","PAX","CREW","BAG","ENGG","GROUND"],active:"FLIGHT",Component:function(t){return console.log(t),u.a.createElement(q,Object.assign({instanceData:e,updateState:a.updateState},t,a.props))}},{label:"Subscribe",childtab:[],active:"FLIGHT",Component:function(t){return u.a.createElement(q,Object.assign({instanceData:JSON.parse(JSON.stringify(e)),updateState:a.updateState},t,a.props))}}]},a.saveCriteria=function(){},a}return Object(l.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){if(!this.state.instanceData.schedulingCondition){var e=this.state.instanceData;e.schedulingCondition={scheduleKey:"",snoozesTimeValueMins:0,snoozesTimeIncrementValueMins:0,operator:"ADD"},this.setState({instanceData:e})}return u.a.createElement($.a,{className:"event-edit",tabData:this.tabList(this.state.instanceData,this.props),isEditPage:"EDIT"===this.props.page})}}]),t}(o.Component),Z=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(r.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={},a}return Object(l.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.instanceData,t=e.businessEventTemplateId,a=e.businessEvent,n=e.eventDescription,i=e.influencers,s=void 0===i?[]:i,r=e.businessTargetedDomains,c=void 0===r?[]:r,l=e.ruleMapping,o=void 0===l?[]:l,m=e.subscription,p=void 0===m?[]:m;return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"eventListViewDescription"},u.a.createElement("div",{className:"businesseventname"},u.a.createElement("div",{className:"businesseventdetails"},u.a.createElement("div",{className:"eventNo"},t),u.a.createElement("div",{className:"eventName"},a)),u.a.createElement("div",{className:"businesseventdescription"},n)),u.a.createElement(te,{subscription:p}),u.a.createElement(ae,{businessTargetedDomains:c}),u.a.createElement(ne,{influencers:s}),u.a.createElement(ie,{ruleMapping:o}),u.a.createElement(ee,{instanceData:this.props.instanceData,closeEdit:this.props.closeEdit})))}}]),t}(o.Component),ee=function(e){var t=e.instanceData,a=void 0===t?[]:t,n=e.closeEdit;return u.a.createElement("div",null,u.a.createElement("div",{className:"Domain"},u.a.createElement("div",{className:"header"},"Conditions"),u.a.createElement(Q,{instanceData:a,page:"VIEW",closeEdit:n})))},te=function(e){var t=e.subscription;return t.length?u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"Domain"},u.a.createElement("div",{className:"header"},"Subscribers"),u.a.createElement("div",{className:"domainDetails"},t.map((function(e,t){return u.a.createElement("div",{key:t,className:"domainNames"},e.subscriptionDetails.subscriberGroup)}))))):null},ae=function(e){var t=e.businessTargetedDomains;return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"Domain"},u.a.createElement("div",{className:"header"},"Correlated Domain"),u.a.createElement("div",{className:"domainDetails"},t.map((function(e,t){return u.a.createElement("div",{key:t,className:"domainNames"},e)})))))},ne=function(e){var t=e.influencers;return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"Domain"},u.a.createElement("div",{className:"header"},"Influenced Enterprise Events"),u.a.createElement("div",{className:"domainDetails"},t.map((function(e,t){return u.a.createElement("div",{key:t,className:"domainNames"},e)})))))},ie=function(e){var t=e.ruleMapping;return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"Domain"},u.a.createElement("div",{className:"header"},"Determinant Rules"),u.a.createElement("div",{className:"domainDetails"},t.map((function(e,t){return u.a.createElement("div",{key:t,style:{display:"flex"}},u.a.createElement("div",{className:"domainNames",style:{width:"20%"}},e.ruleId),u.a.createElement("div",{className:"domainNames",style:{width:"80%"}},e.ruleConstruct))})))))},se=(a(308),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(r.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={currentView:"LIST"},a.handleEdit=function(e){a.setState({currentView:e})},a.cancelEdit=function(){a.setState({currentView:"LIST"}),a.props.closeEdit&&a.props.closeEdit()},a}return Object(l.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=JSON.parse(JSON.stringify(this.props.instanceData));return t&&!t.schedulingCondition&&(t.schedulingCondition={scheduleKey:"",snoozesTimeValueMins:0,snoozesTimeIncrementValueMins:0,operator:"ADD"}),u.a.createElement(u.a.Fragment,null,"EDIT"===this.state.currentView?u.a.createElement(Q,{instanceData:t,page:"EDIT",enterpriseId:this.props.enterpriseId,enterpriseSignal:this.props.enterpriseSignal,SubscriberDetails:this.props.SubscriberDetails,closeEdit:this.cancelEdit}):u.a.createElement("div",{className:"eventListView"},u.a.createElement("div",{className:"userCreateMain"},u.a.createElement("div",{className:"userCreateName"},"User Created Name"),u.a.createElement("div",{className:"edit",onClick:function(){return e.handleEdit("EDIT")}},"Edit")),u.a.createElement("div",{className:"bottomline"}),u.a.createElement(Z,{instanceData:this.props.instanceData,closeEdit:this.cancelEdit})))}}]),t}(o.Component)),re=a(178),ce=(a(185),a(189),a(62)),le=function(e){function t(){return Object(i.a)(this,t),Object(r.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return u.a.createElement(ce.a,{show:this.props.isOpen,className:"PopupMax-bg-container",enterAnimate:"zoom-out-enter .4s",leaveAnimate:"zoom-out-leave .3s"},u.a.createElement("div",{className:"PopupMax-container"},u.a.createElement("div",{className:"PopupMax-title"},u.a.createElement("b",null,this.props.heading)),u.a.createElement("div",{className:"PopupMax-message"},this.props.children),u.a.createElement("div",{className:"PopupMax-control"},u.a.createElement("div",{className:"buttonflex"},u.a.createElement(d.a,{className:"primary",onClick:function(t){e.props.clickHandler&&e.props.clickHandler(t,"save")}},this.props.buttonText),u.a.createElement(d.a,{className:"primary",onClick:function(t){e.props.clickHandler(t,"cancel")}},"Cancel")))))}}]),t}(u.a.Component);le.defaultProps={isOpen:!1,heading:"Modal",buttonText:"Save",clickHandler:function(){}};var oe=le,ue=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(r.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={currentToggler:"activeInstance",selectedInstance:{},searchBoxValue:"",list:[],isCloneSelectEnterprisePopUpOpened:!1,selectedClone:{},selectedCloneEnterprise:{}},a.activeInstance=[],a.DraftsInstance=[],a.date=function(e){var t=new Date(void 0!=e?e:"");return p()(t).format("DD MMM YY ").toUpperCase()},a.time=function(e){var t=(void 0!=e?e:"").slice(0,-1),a=new Date(t);return p()(a).format("HH:mm")},a.getInstance=function(e){a.activeInstance=[],a.DraftsInstance=[],e.forEach((function(e){a.props.enterpriseId===e.enterpriseCode&&(e.mappingStatus&&"active"===e.mappingStatus.toLowerCase()?a.activeInstance.push(e):e.mappingStatus&&"drafts"===e.mappingStatus.toLowerCase()&&a.DraftsInstance.push(e))}))},a.selectInstance=function(e){if(a.state.selectedInstance.businessEventId===e.businessEventId)a.setState({selectedInstance:{}});else{var t=e;a.setState({selectedInstance:t})}},a.instanceData=function(e){var t={};if(e&&e.businessEventId){var n=a.props.eventTemplateData;n&&n.forEach((function(a){a.businessEventId===e.businessEventId&&(t=a)}))}return t},a.cloneInstance=function(e,t){e.stopPropagation(),a.setState({isCloneSelectEnterprisePopUpOpened:!0,selectedClone:t})},a.searchHandler=function(e,t){a.setState({searchBoxValue:e.target.value,list:t})},a.updateClone=function(e,t){if("save"===t){var n=a.state,i=n.selectedCloneEnterprise,s=n.selectedClone;s.businessEventId&&(s.businessEventId="",s.enterpriseCode=i.enterpriseId,a.props.updateInstance(s))}a.setState({isCloneSelectEnterprisePopUpOpened:!1,selectedClone:{}})},a}return Object(l.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.getEvent()}},{key:"render",value:function(){var e=this;this.props.eventTemplateData&&this.getInstance(this.props.eventTemplateData);var t={activeInstance:this.activeInstance,draftInstance:this.DraftsInstance},a=this.state.searchBoxValue.length?this.state.list:t[this.state.currentToggler];return this.state.isCloneSelectEnterprisePopUpOpened?u.a.createElement(oe,{isOpen:!0,clickHandler:function(t,a){e.updateClone(t,a)},heading:"Select Enterprise for Clone Instance"},u.a.createElement(Se,{EnterpriseList:this.props.EnterpriseList,chooseEnterprise:function(t){e.setState({selectedCloneEnterprise:t})}})):u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"ActiveEventInstances"},u.a.createElement("div",{className:"event-list"},u.a.createElement("div",{className:"Event-left-box"},u.a.createElement("div",{className:"Event_Box"},u.a.createElement("div",{className:"searchContainer"},u.a.createElement("div",{className:"Event-search-header"},u.a.createElement(f.a,{placeholder:"Search by name",onChange:this.searchHandler,list:t[this.state.currentToggler],value:this.state.searchBoxValue,className:"EventListSearchBar",filterBy:["businessEventId","businessEvent"]})))),u.a.createElement("div",{className:"EventListBox scroll"},u.a.createElement("div",{className:"EventListHeaderBox"},u.a.createElement(v.a,{active:this.state.currentToggler,onChange:function(t){return e.setState({currentToggler:t,selectedInstance:{}})}},u.a.createElement("div",{key:"activeInstance",className:"EventListHeader"},u.a.createElement("b",null," ","Active(".concat(this.activeInstance.length,")"))),u.a.createElement("div",{key:"draftInstance",className:"EventListHeader"},u.a.createElement("b",null," ","Drafts(".concat(this.DraftsInstance.length,")"))))),a.map((function(t,a){return u.a.createElement("div",{key:a,className:"EventListDetails "+"".concat(e.state.selectedInstance.businessEventId===t.businessEventId?"activeInstance":""),onClick:function(a){return e.selectInstance(t)}},u.a.createElement(re.a,{isEditIconShow:!1,isDeleteIconShow:!1,isCloneIconShow:!0,cloneHandler:function(a){e.cloneInstance(a,t)}},u.a.createElement("div",{className:"EventListName"},t.businessEventId),u.a.createElement("div",{className:"EventListBEventName"},t.businessEvent),u.a.createElement("div",{className:"EventListULName"},u.a.createElement("div",{className:"Event-Transactional-button-Area"},u.a.createElement(d.a,{className:"Event-Transactional-button"},t.eventType)))))}))))),u.a.createElement("div",{className:"Selection-panel scroll"},this.state.selectedInstance.businessEventId?u.a.createElement(se,{key:Math.random(),instanceData:this.instanceData(this.state.selectedInstance),closeEdit:this.props.closeEdit,enterpriseId:this.props.enterpriseId,enterpriseSignal:this.props.enterpriseSignal,SubscriberDetails:this.props.SubscriberDetails}):u.a.createElement(me,null))))}}]),t}(u.a.Component),me=function(){return u.a.createElement("div",{className:"no-event"},u.a.createElement("div",null,u.a.createElement("img",{src:g.a})),"Select a \u201cActive Event Instances\u201d to view")};var pe={getEvent:b.a.getEvent_Template,updateInstance:b.a.updateInstance},de=Object(E.b)((function(e){return e.eventConfigReducer}),pe)(ue),ve=(a(310),a(59)),be=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(r.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={currentToggler:"activeInstance",selectedInstance:{},searchBoxValue:""},a.businesseventTemplateData=[],a.activeInstance=[],a.closeEdit=function(){a.setState({selectedInstance:{}})},a.getInstance=function(e){a.activeInstance=[],e.forEach((function(e){a.activeInstance.push(e)}))},a.searchHandler=function(e,t){a.setState({searchBoxValue:e.target.value,list:t})},a.selectInstance=function(e){if(a.state.selectedInstance.businessEventTemplateId===e.businessEventTemplateId)a.setState({selectedInstance:{}});else{var t=JSON.parse(JSON.stringify(e));a.setState({selectedInstance:t})}},a}return Object(l.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.getBusinessEvent()}},{key:"render",value:function(){var e=this;this.props.businesseventTemplateData&&this.getInstance(this.props.businesseventTemplateData);var t={activeInstance:this.activeInstance},a=this.state.searchBoxValue.length?this.state.list:t[this.state.currentToggler];return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"BusinessEventInstances"},u.a.createElement("div",{className:"BusinessEvents"},u.a.createElement("div",{className:"BusinessEvent-left-box"},u.a.createElement("div",{className:"BusinessEvent_Box"},u.a.createElement("div",{className:"Business-searchContainer"},u.a.createElement("div",{className:"Business-Event-search-header"},u.a.createElement(f.a,{placeholder:"Search by name",onChange:this.searchHandler,list:t[this.state.currentToggler],value:this.state.searchBoxValue,className:"Business-EventListSearchBar",filterBy:["businessEventTemplateId","businessEvent"]})))),u.a.createElement("div",{className:"Business-EventListBox scroll"},a&&a.map((function(t,a){return u.a.createElement("div",{key:a,className:"Business-EventListDetails "+"".concat(e.state.selectedInstance.businessEventTemplateId===t.businessEventTemplateId?"activeInstance":""),onClick:function(a){return e.selectInstance(t)}},u.a.createElement("div",{className:"BusinessListName-Area"},u.a.createElement("div",{className:"BusinessListID"},t.businessEventTemplateId)),u.a.createElement("div",{className:"BusinessListNameandBaseBody"},u.a.createElement("div",{className:"BusinessListName"},u.a.createElement("div",null,t.businessEvent),u.a.createElement("div",{className:"BusinessListBaseBody"},t.eventDescription))),u.a.createElement("div",{className:"Business-Event-Transactional-button-Container"},u.a.createElement("div",{className:"Business-Event-Transactional-button-Area"},u.a.createElement(d.a,{className:"Business-Event-Transactional-button"},t.eventType))))}))))),u.a.createElement("div",{className:"Selection-panel scroll"},this.state.selectedInstance.businessEventTemplateId?u.a.createElement(Q,{key:Math.random(),instanceData:this.state.selectedInstance,enterpriseId:this.props.enterpriseId,enterpriseSignal:this.props.enterpriseSignal,SubscriberDetails:this.props.SubscriberDetails,closeEdit:this.closeEdit,page:"EDIT"}):u.a.createElement(Ee,null))))}}]),t}(u.a.Component),Ee=function(){return u.a.createElement("div",{className:"no-event"},u.a.createElement("div",null,u.a.createElement("img",{src:g.a})),"Select a \u201cActive Event Instances\u201d to view")};var he={getBusinessEvent:ve.a.getBusiness_Event_Template},ge=Object(E.b)((function(e){return e.businesseventConfigReducer}),he)(be),fe=a(56);a.d(t,"ChooseEnterpriseList",(function(){return Se}));var Ne=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(r.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).header={ActiveEventInstanceHeader:{Component:de,headerName:"Active Event Instances",buttonName:"Add Instance",navigateTo:"AddInstanceHeader",Icon:_.c},AddInstanceHeader:{headerName:"Add Instance",Component:ge,buttonName:"View Instance",navigateTo:"ActiveEventInstanceHeader",Icon:_.b}},a.state={currentPage:a.header.ActiveEventInstanceHeader,isEnterpriseListScreen:!0,selectedEnterPrise:""},a.chooseEnterprise=function(e){a.props.getSignalDetails(e.enterpriseId),a.setState({isEnterpriseListScreen:!1,selectedEnterPrise:e.enterpriseId})},a.navigate=function(e){Object.keys(a.header).forEach((function(t){if(e.target.innerText===a.header[t].buttonName){var n=a.header[t].navigateTo;a.setState({currentPage:a.header[n]})}}))},a}return Object(l.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.getEnterpriseList(),this.props.getSubscriber()}},{key:"render",value:function(){var e=this,t=this.state.currentPage,a=t.Icon,n=t.Component,i=t.buttonName,s=(t.headerName,this.props.EnterpriseList),r=void 0===s?[]:s;return this.state.isEnterpriseListScreen?u.a.createElement(Se,{EnterpriseList:r,chooseEnterprise:this.chooseEnterprise}):u.a.createElement("div",{className:"main"},u.a.createElement("div",{className:"Events"},u.a.createElement("div",{className:"EventManagementHeader"},u.a.createElement("div",{className:"EventManagementwrap"},u.a.createElement("div",{className:"EventManagementText",onClick:function(){e.setState({isEnterpriseListScreen:!0})}},"Select Enterprise"),u.a.createElement("div",{className:"Event-header-right-content"},u.a.createElement("div",{className:"event-header-create"},u.a.createElement(a,{className:"event-create-icon"}),u.a.createElement(d.a,{className:"CreateEventTemplate",onClick:this.navigate},i)))))),u.a.createElement("div",{className:"config-container"},u.a.createElement(n,{enterpriseId:this.state.selectedEnterPrise,enterpriseSignal:this.props.allSignals,SubscriberDetails:this.props.SubscriberDetails,EnterpriseList:this.props.EnterpriseList})))}}]),t}(o.Component),Se=function(e){var t=e.EnterpriseList,a=e.chooseEnterprise,i=Object(o.useState)({}),s=Object(n.a)(i,2),r=s[0],c=s[1];return u.a.createElement("div",{className:"main"},u.a.createElement("div",{className:"choose-enterprise-heading"},"Select a \u201cEnterprise\u201d to View, Add, Edit Instance\u2019s"),u.a.createElement("div",{className:"choose-enterprise-list-container scroll"},t.map((function(e){return u.a.createElement("div",{className:"list-enterprise",onClick:function(){a(e),c(e)}},u.a.createElement("div",{className:"enterprise-logo"},u.a.createElement("div",{className:"logo-img"},e.enterpriseId&&e.enterpriseId[0])),u.a.createElement("div",{className:"enterprise-details"},u.a.createElement("div",{className:"id-name-container"},u.a.createElement("div",{className:"enterprise-id"},e.enterpriseId),u.a.createElement("div",{className:"enterprise-name"},e.enterpriseName)),u.a.createElement("div",{className:"enterprise-desc"},e.enterpriseDescription)),r.enterpriseId===e.enterpriseId&&u.a.createElement("div",{className:"mapping-tick"},u.a.createElement(L.a,null)))}))))},Ce={getEnterpriseList:fe.a.getEnterpriseDetails,getSignalDetails:fe.a.getSignalDetail,getSubscriber:fe.a.get_subscriber};t.default=Object(E.b)((function(e){return{EnterpriseList:e.EnterpriceReducer,allSignals:e.EnterpriseSignal,SubscriberDetails:e.SubscriberReducer}}),Ce)(Ne)}}]);
//# sourceMappingURL=9.adc182fd.chunk.js.map