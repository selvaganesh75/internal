(this["webpackJsonpairasia-downloader"]=this["webpackJsonpairasia-downloader"]||[]).push([[1],{10:function(e,n,t){"use strict";n.a={DOWNLOAD_ANDROID_FAILURE:"DOWNLOAD_ANDROID_FAILURE",DOWNLOAD_ANDROID_SUCCESS:"DOWNLOAD_ANDROID_SUCCESS",DOWNLOAD_ANDROID_REQUEST:"DOWNLOAD_ANDROID_REQUEST",ASYNC_DOWNLOAD_ANDROID:"ASYNC_DOWNLOAD_ANDROID",DOWNLOAD_IOS_FAILURE:"DOWNLOAD_IOS_FAILURE",DOWNLOAD_IOS_SUCCESS:"DOWNLOAD_IOS_SUCCESS",DOWNLOAD_IOS_REQUEST:"DOWNLOAD_IOS_REQUEST",ASYNC_DOWNLOAD_IOS:"ASYNC_DOWNLOAD_IOS",UPLOAD_ANDROID_FAILURE:"UPLOAD_ANDROID_FAILURE",UPLOAD_ANDROID_SUCCESS:"UPLOAD_ANDROID_SUCCESS",UPLOAD_ANDROID_REQUEST:"UPLOAD_ANDROID_REQUEST",ASYNC_UPLOAD_ANDROID:"ASYNC_UPLOAD_ANDROID",UPLOAD_IOS_FAILURE:"UPLOAD_IOS_FAILURE",UPLOAD_IOS_SUCCESS:"UPLOAD_IOS_SUCCESS",UPLOAD_IOS_REQUEST:"UPLOAD_IOS_REQUEST",ASYNC_UPLOAD_IOS:"ASYNC_UPLOAD_IOS",RESET_DOCUMENT:"RESET_DOCUMENT"}},122:function(e,n,t){"use strict";var r,a=t(66),o=(r={basePath:"internal-app",login:"http://localhost:9000/login",files:{getAndroid:"internal/download/android.apk",getIOS:"internal/download/manifest",uploadAndroid:"internal/upload/android.apk",uploadIOS:"internal/upload/android.apk"}},Object(a.a)({intervals:{logout:3600},isProduction:!0,isDevelopment:!1},r));n.a=Object(a.a)(Object(a.a)({},o),{},{isProduction:!0,isDevelopment:!1})},174:function(e,n,t){"use strict";t.d(n,"a",(function(){return v})),t.d(n,"b",(function(){return T}));var r=t(24),a=t.n(r),o=t(19),c=t(94),i=t(95),u=t(93),d=t.n(u),s=t(121);function O(e){localStorage.setItem("TCS-user",JSON.stringify(e))}function l(){return JSON.parse(localStorage.getItem("TCS-user")||"{}")}function p(e){localStorage.setItem("token",e)}var S=t(57),A=t(435),D=t.n(A),_=t(65),E=!1,f=[];function I(){return(I=Object(s.a)(a.a.mark((function e(n){var t,r,o,c,i,u,s,A,f,I;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=n.response,r=l(),o=r.token,console.log(l(),o),o){e.next=7;break}return _.b.push("/login"),e.abrupt("return",Promise.reject(n));case 7:if(c=new Promise((function(e){h((function(n){t.config.headers.Authorization="Bearer "+n,e(d()(t.config))}))})),E){e.next=25;break}return E=!0,i={"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic c3ByaW5nLXNlY3VyaXR5LW9hdXRoMi1yZWFkLWNsaWVudDpzcHJpbmctc2VjdXJpdHktb2F1dGgyLXJlYWQtY2xpZW50LXBhc3N3b3JkMTIzNA==",scope:"read"},u={grant_type:"refresh_token",refresh_token:o,client_id:"spring-security-oauth2-read-client",client_secret:"spring-security-oauth2-read-client-password1234"},s=Object.keys(u).map((function(e){return e+"="+u[e]})).join("&"),e.next=15,d()({method:"post",url:S.default.login,headers:i,data:s});case 15:if((A=e.sent).data){e.next=19;break}return _.b.push("/login"),e.abrupt("return",Promise.reject(n));case 19:f=D()(A.data.access_token),O(I={userId:f.userId,access_token:A.data.access_token,user_name:f.user_name,expires_in:new Date((new Date).getTime()+1e3*A.expires_in),authdata:i.Authorization,refresh_token:A.data.refresh_token}),p("token="+I.access_token),E=!1,L(I.access_token);case 25:return e.abrupt("return",c);case 28:return e.prev=28,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 31:case"end":return e.stop()}}),e,null,[[0,28]])})))).apply(this,arguments)}function L(e){f.forEach((function(n){return n(e)})),f=[]}function h(e){f.push(e)}var b=function(){var e=Object(s.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){if(n||t({message:"Something went wrong"}),n.data&&n.data.errors){var r=n.data.errors,a="";if(Array.isArray(r.msg))r.msg.forEach((function(e){var n=e.param?e.param+":":"";a+="".concat(n," ").concat(e.msg,", \n")}));else{var o=r.param?r.param+":":"";a=o+r.msg}t({message:a})}n.data&&e(n.data),null!==n&&void 0!==n||t({message:"Something went wrong"}),console.log(n),n.status>399&&t({message:n.statusText||"Something went wrong"}),e({})})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),N=new(function(){function e(){var n=this;Object(c.a)(this,e),this.isTokenExpiredError=function(e){return!(!e||!e.status||401!==e.status)},this.handleError=function(e){var t=e.response;return n.isTokenExpiredError(t)?function(e){return I.apply(this,arguments)}(e):b(t)},this.redirectTo=function(e,n){e.location=n},this.get=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{headers:{}};return n.service.get(e,t).then((function(e){return e}))},this.patch=function(e,t,r){return n.service.request({method:"PATCH",url:e,responseType:"json",data:t,headers:r}).then((function(e){return e}))},this.post=function(e,t,r){return n.service.request({method:"POST",url:e,responseType:"json",data:t,headers:r}).then((function(e){return e}))},this.put=function(e,t,r){return n.service.request({method:"PUT",url:e,responseType:"json",data:t,headers:r}).then((function(e){return e}))},this.delete=function(e,t,r){return n.service.request({method:"DELETE",url:e,responseType:"json",data:t,headers:r}).then((function(e){return e}))};var t=d.a.create({headers:{"Content-Type":"application/json"}});t.interceptors.request.use((function(e){if(!e.headers.Authorization){var n=l().token;n&&(e.headers.Authorization="Bearer ".concat(n))}return e}),(function(e){return Promise.reject(e)})),t.interceptors.response.use(this.handleSuccess,this.handleError),this.service=t}return Object(i.a)(e,[{key:"handleSuccess",value:function(e){return console.log(e),e}}]),e}()),m=t(10),U=a.a.mark(y),w=a.a.mark(C),g=a.a.mark(j),R=a.a.mark(T),v={downloadAndroid:function(){return{type:m.a.ASYNC_DOWNLOAD_ANDROID}},downloadIOS:function(){return{type:m.a.ASYNC_DOWNLOAD_IOS}},uploadAndroid:function(e){return{type:m.a.ASYNC_UPLOAD_ANDROID,obj:e}},uploadIOS:function(e){return{type:m.a.ASYNC_UPLOAD_IOS,obj:e}},reset:function(){return{type:m.a.RESET_DOCUMENT}}};function y(e){var n,t,r,c,i,u,d;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=function(e){return{type:m.a.UPLOAD_IOS_FAILURE,error:e}},r=function(e){return{type:m.a.UPLOAD_IOS_SUCCESS,payload:e}},t=function(){return{type:m.a.UPLOAD_IOS_REQUEST}},n=e.obj,a.next=6,Object(o.c)(t());case 6:return a.prev=6,i={"Content-Type":"multipart/form-data"},a.next=10,Object(o.b)(N.post,S.default.files.uploadIOS,n.data,i);case 10:return u=a.sent,a.next=13,Object(o.b)(b,u);case 13:return d=a.sent,a.next=16,Object(o.c)(r({data:d}));case 16:a.next=22;break;case 18:return a.prev=18,a.t0=a.catch(6),a.next=22,Object(o.c)(c(a.t0.message));case 22:case"end":return a.stop()}}),U,null,[[6,18]])}function C(){var e,n,t,r,c,i,u;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=function(e){return{type:m.a.DOWNLOAD_ANDROID_FAILURE,error:e}},n=function(e){return{type:m.a.DOWNLOAD_ANDROID_SUCCESS,payload:e}},e=function(){return{type:m.a.DOWNLOAD_ANDROID_REQUEST}},a.prev=3,a.next=6,Object(o.c)(e());case 6:return a.next=8,Object(o.b)(N.get,S.default.files.getAndroid,{responseType:"blob"});case 8:return r=a.sent,a.next=11,Object(o.b)(b,r);case 11:return c=a.sent,i=window.URL.createObjectURL(c),(u=document.createElement("a")).href=i,u.download="airasia.apk",u.click(),a.next=19,Object(o.c)(n("success"));case 19:a.next=25;break;case 21:return a.prev=21,a.t0=a.catch(3),a.next=25,Object(o.c)(t(a.t0.message));case 25:case"end":return a.stop()}}),w,null,[[3,21]])}function j(){var e,n,t,r,c,i,u;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=function(e){return{type:m.a.DOWNLOAD_IOS_FAILURE,error:e}},n=function(e){return{type:m.a.DOWNLOAD_IOS_SUCCESS,payload:e}},e=function(){return{type:m.a.DOWNLOAD_IOS_REQUEST}},a.prev=3,a.next=6,Object(o.c)(e());case 6:return a.next=8,Object(o.b)(N.get,S.default.files.getIOS,{responseType:"blob"});case 8:return r=a.sent,a.next=11,Object(o.b)(b,r);case 11:return c=a.sent,i=window.URL.createObjectURL(c),(u=document.createElement("a")).href=i,u.download="manifest.plist",u.click(),a.next=19,Object(o.c)(n("success"));case 19:a.next=25;break;case 21:return a.prev=21,a.t0=a.catch(3),a.next=25,Object(o.c)(t(a.t0.message));case 25:case"end":return a.stop()}}),g,null,[[3,21]])}function T(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.d)(m.a.ASYNC_DOWNLOAD_ANDROID,C);case 2:return e.next=4,Object(o.d)(m.a.ASYNC_DOWNLOAD_IOS,j);case 4:return e.next=6,Object(o.d)(m.a.ASYNC_UPLOAD_IOS,y);case 6:return e.next=8,Object(o.d)(m.a.ASYNC_UPLOAD_ANDROID,y);case 8:case"end":return e.stop()}}),R)}},437:function(e,n,t){e.exports=t(57)},514:function(e,n,t){},515:function(e,n,t){},57:function(e,n,t){"use strict";t.r(n);t(438),t(448),t(135),t(136),t(137),t(138),t(139),t(140),t(141),t(142),t(143),t(144),t(145),t(146),t(147),t(148),t(149),t(234),t(236),t(237),t(238),t(239),t(240),t(241),t(243),t(244),t(152),t(246),t(247),t(87),t(248),t(249),t(251),t(252),t(253),t(254),t(255),t(256),t(257),t(258),t(259),t(260),t(261),t(262),t(265),t(266),t(267),t(268),t(153),t(72),t(269),t(271),t(272),t(273),t(274),t(275),t(276),t(277),t(279),t(280),t(281),t(282),t(283),t(284),t(285),t(286),t(154),t(287),t(288),t(289),t(291),t(293),t(294),t(295),t(296),t(297),t(298),t(300),t(301),t(303),t(304),t(305),t(307),t(308),t(309),t(310),t(311),t(312),t(313),t(315),t(316),t(317),t(318),t(319),t(320),t(321),t(322),t(103),t(323),t(324),t(330),t(331),t(332),t(333),t(334),t(335),t(336),t(337),t(338),t(339),t(340),t(341),t(342),t(343),t(162),t(344),t(345),t(104),t(346),t(347),t(348),t(349),t(85),t(350),t(351),t(354),t(355),t(356),t(357),t(358),t(359),t(360),t(361),t(362),t(363),t(364),t(365),t(366),t(367),t(368),t(369),t(370),t(371),t(372),t(373),t(374),t(375),t(376),t(377),t(380),t(381),t(382),t(383),t(384),t(385),t(386),t(387),t(388),t(389),t(390),t(391),t(392),t(393),t(394),t(395),t(396),t(397),t(398),t(399),t(400),t(401),t(402),t(403),t(404),t(405),t(406),t(407),t(408),t(409),t(410),t(411),t(412),t(117),t(414),t(459),t(460),t(461),t(462),t(463),t(464),t(189),t(190),t(191),t(192),t(193),t(194),t(195),t(196),t(197),t(198),t(199),t(200),t(201),t(202),t(203),t(204),t(205),t(466),t(467),t(468),t(469),t(470),t(471),t(472),t(473),t(474),t(475),t(476),t(477),t(478),t(479),t(480),t(481),t(483),t(484),t(485),t(486),t(487),t(488),t(489),t(490),t(491),t(492),t(493),t(206),t(208),t(209),t(210),t(211),t(212),t(213),t(214),t(215),t(216),t(217),t(218),t(219),t(220),t(221),t(222),t(223),t(224),t(494),t(495),t(496),t(498),t(229),t(230),t(231),t(499),t(500),t(501),t(502),t(503),t(504),t(505),t(415),t(134),t(416),t(417),t(418),t(420),t(167);!function(){if("function"===typeof window.CustomEvent)return!1;function e(e,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),t}e.prototype=window.Event.prototype,window.CustomEvent=e}();var r=t(2),a=t.n(r),o=t(96),c=t.n(o),i=t(173),u=(t(514),t(94)),d=t(95),s=t(172),O=t(171),l=t(539),p=(t(515),t(65)),S=a.a.lazy((function(){return Promise.all([t.e(0),t.e(4)]).then(t.bind(null,574))})),A=a.a.lazy((function(){return Promise.all([t.e(0),t.e(5)]).then(t.bind(null,585))})),D=function(e){Object(s.a)(t,e);var n=Object(O.a)(t);function t(){return Object(u.a)(this,t),n.apply(this,arguments)}return Object(d.a)(t,[{key:"render",value:function(){return a.a.createElement(l.b,{history:p.b},a.a.createElement(a.a.Suspense,{fallback:a.a.createElement("div",{className:"animated fadeIn pt-3 text-center"},"Loading...")},a.a.createElement(l.c,null,a.a.createElement(l.a,{exact:!0,path:"/upload",name:"upload",render:function(e){return a.a.createElement(A,e)}}),a.a.createElement(l.a,{exact:!0,path:"/download",name:"Register Page",render:function(e){return a.a.createElement(S,e)}}),a.a.createElement(l.a,{name:"Page 404",render:function(e){return a.a.createElement("h1",null,"Not Found...")}}))))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(537);var _=t(122);n.default=_.a;c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(i.a,{store:p.a},a.a.createElement(D,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},65:function(e,n,t){"use strict";t.d(n,"b",(function(){return b}));var r=t(43),a=t(436),o=t(50),c=t(120),i=t(24),u=t.n(i),d=t(19),s=t(174),O=u.a.mark(l);function l(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)([Object(s.b)()]);case 2:case"end":return e.stop()}}),O)}var p=t(66),S=t(10),A={uploadFileAndroidError:!1,uploadFileAndroidSuccess:!1,uploadFileAndroidLoading:!1,uploadFileIOSError:!1,uploadFileIOSSuccess:!1,uploadFileIOSLoading:!1,downloadAndroidError:!1,downloadAndroidLoading:!1,downloadAndroidSuccess:!1,downloadIOSError:!1,downloadIOSLoading:!1,downloadIOSSuccess:!1};var D=Object(r.c)({fileReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,n=arguments.length>1?arguments[1]:void 0,t=Object(p.a)({},e);return n.type===S.a.UPLOAD_ANDROID_SUCCESS&&(t.uploadFileAndroidError=!1,t.uploadFileAndroidLoading=!1,t.uploadFileAndroidSuccess=!0),n.type===S.a.UPLOAD_IOS_FAILURE&&(t.uploadFileAndroidError=n.error,t.uploadFileAndroidLoading=!1),n.type===S.a.UPLOAD_ANDROID_REQUEST&&(t.uploadFileAndroidError=!1,t.uploadFileAndroidLoading=!0,t.uploadFileAndroidSuccess=!1),n.type===S.a.UPLOAD_IOS_SUCCESS&&(t.uploadFileIOSError=!1,t.uploadFileIOSLoading=!1,t.uploadFileIOSSuccess=!0),n.type===S.a.UPLOAD_IOS_FAILURE&&(t.uploadFileIOSError=n.error,t.uploadFileIOSLoading=!1),n.type===S.a.UPLOAD_IOS_REQUEST&&(t.uploadFileIOSError=!1,t.uploadFileIOSLoading=!0,t.uploadFileIOSSuccess=!1),n.type===S.a.DOWNLOAD_ANDROID_SUCCESS&&(t.downloadAndroidError=!1,t.downloadAndroidLoading=!1,t.downloadAndroidSuccess=!0),n.type===S.a.DOWNLOAD_ANDROID_FAILURE&&(t.downloadAndroidError=n.error,t.downloadAndroidLoading=!1),n.type===S.a.DOWNLOAD_ANDROID_REQUEST&&(t.downloadAndroidError=!1,t.downloadAndroidLoading=!0),n.type===S.a.DOWNLOAD_IOS_SUCCESS&&(t.downloadIOSError=!1,t.downloadIOSLoading=!1,t.downloadIOSSuccess=!0),n.type===S.a.DOWNLOAD_IOS_FAILURE&&(t.downloadIOSError=n.error,t.downloadIOSLoading=!1),n.type===S.a.DOWNLOAD_IOS_REQUEST&&(t.downloadIOSError=!1,t.downloadIOSLoading=!0),n.type===S.a.RESET_DOCUMENT&&(t.uploadFileAndroidError=!1,t.uploadFileAndroidLoading=!1,t.uploadFileAndroidSuccess=!1,t.downloadIOSError=!1,t.downloadIOSLoading=!1,t.downloadIOSSuccess=!1,t.downloadAndroidError=!1,t.downloadAndroidLoading=!1,t.downloadAndroidSuccess=!1,t.uploadFileIOSError=!1,t.uploadFileIOSLoading=!1,t.uploadFileIOSSuccess=!1),t}}),_=Object(r.c)({routing:c.routerReducer,file:D}),E=function(e,n){return _(e,n)},f=t(122),I=Object(a.a)(),L=Object(r.e)(E,Object(r.a)(I));I.run(l);var h=Object(o.a)({basename:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_ROUTER_BASE||f.a.basePath||""}),b=Object(c.syncHistoryWithStore)(h,L);n.a=L}},[[437,2,3]]]);
//# sourceMappingURL=main.3a33952a.chunk.js.map